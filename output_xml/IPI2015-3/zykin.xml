<?xml version="1.0" encoding="utf-8"?>
<papers>
  <paper>
    <metadata>
      <annotation value="\Abst{Решается прикладная задача автоматизации построения неизбыточного множества ссылочных ограничений на данные. Эти ограничения позволяют регламентировать на предприятии биз нес-пра ви ла в использовании информации, которая хранится в реляционной базе данных (БД) и обслуживается системой управления БД (СУБД). Теоретической основой ограничений служат зависимости включения, которые в данной статье получили обобщение, позволяющее использовать неопределенные значения. Такое обобщение является следствием их практической значимости. Для корректного решения указанной проблемы вводится и исследуется понятие ациклических схем БД. Введена интерпретация ациклических схем БД в виде ассоциированных гиперграфов, доказана теорема о цикличности таких гиперграфов. Представлено автоматическое построение множества всевозможных ссылочных ограничений и предложен алгоритм автоматизации удаления избыточных ссылочных ограничений целостности.}"/>
      <keywords>
        <braces>
          <text value="\KW{ссылочная целостность; неопределенные значения; ациклические схемы}"/>
        </braces>
      </keywords>
    </metadata>
    <fulltext>
      <literature/>
      <text value="zykin"/>
      <text value="ССЫЛОЧНАЯ ЦЕЛОСТНОСТЬ ДАННЫХ В КОРПОРАТИВНЫХ ИНФОРМАЦИОННЫХ СИСТЕМАХ"/>
      <text value="Ссылочная целостность данных в корпоративных информационных системах"/>
      <text value="В."/>
      <text value="С. Зыкин$^1$"/>
      <text value="В."/>
      <text value="С. Зыкин"/>
      <command value="\titel">
        <braces>
          <braces>
            <text value="{}"/>
            <command value="\tit">
              <braces/>
              <braces>
                <braces>
                  <text value="{}"/>
                  <command value="\aut">
                    <braces/>
                    <braces>
                      <braces>
                        <text value="{}"/>
                        <command value="\autkol">
                          <braces/>
                          <braces>
                            <braces>
                              <text value="{}"/>
                              <command value="\titkol">
                                <braces/>
                                <braces>
                                  <braces>
                                    <text value="{}"/>
                                    <command value="\renewcommand">
                                      <braces>
                                        <braces>
                                          <text value="{}"/>
                                          <command value="\thefootnote">
                                            <braces/>
                                            <braces>
                                              <braces>
                                                <text value="{}"/>
                                                <command value="\fnsymbol">
                                                  <braces>
                                                    <braces>
                                                      <text value="{}"/>
                                                      <text value="footnote"/>
                                                    </braces>
                                                  </braces>
                                                  <braces/>
                                                  <braces/>
                                                </command>
                                              </braces>
                                            </braces>
                                          </command>
                                        </braces>
                                      </braces>
                                    </command>
                                  </braces>
                                </braces>
                              </command>
                            </braces>
                          </braces>
                        </command>
                      </braces>
                    </braces>
                  </command>
                </braces>
              </braces>
            </command>
          </braces>
        </braces>
      </command>
      <command value="\footnotetext">
        <braces>
          <text value="\footnotetext[1]{}"/>
        </braces>
      </command>
      <text value="Работа выполнена при поддержке РГНФ, грант №"/>
      <text value="14-16-70008 a(p)."/>
      <command value="\renewcommand">
        <braces>
          <braces>
            <text value="{}"/>
            <command value="\thefootnote">
              <braces/>
              <braces>
                <braces>
                  <text value="{}"/>
                  <command value="\arabic">
                    <braces>
                      <braces>
                        <text value="{}"/>
                        <text value="footnote"/>
                      </braces>
                    </braces>
                    <braces/>
                    <braces/>
                  </command>
                </braces>
              </braces>
            </command>
          </braces>
        </braces>
      </command>
      <command value="\footnotetext">
        <braces>
          <text value="\footnotetext[1]{}"/>
        </braces>
      </command>
      <text value="Омский государственный технический университет, vszykin@omgtu.ru"/>
      <command value="\vskip">
        <braces>
          <text value="14pt plus 9pt minus 6pt"/>
        </braces>
      </command>
      <command value="\thispagestyle">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="headings"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\begin">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="2"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\label">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="st"/>
            <command value="\stat">
              <braces/>
            </command>
          </braces>
        </braces>
      </command>
      <section id="id1">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Введение"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="соответствие имеющейся в БД информации ее внутренней логике, структуре и всем явно заданным правилам. Каждое правило, налагающее некоторое ограничение на возможное состояние БД, называется ограничением целостности (integrity constraint). Бизнес-процессы оперируют данными, которые могут быть изменены и обновлены в любое время. Данные, участвующие в бизнес-процессе, могут быть связаны с хранимыми данными и должны удовлетворять правилам, которые регулируют поведение компании"/>
        <text value="1"/>
        <text value=". Ограничения целостности оказывают существенное влияние на процесс интеграции схем БД при слиянии компаний или расширении сферы их деятельности"/>
        <text value="2"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="один из основных видов ограничений в БД, которые позволяют сохранить структурную целостность БД. В большинстве существующих СУБД поддерживается такой вид ограничений и задаются эти ограничения в виде связей (relationship) на схеме БД. При &amp;lt;&amp;lt;ручном&amp;gt;&amp;gt; проектировании схемы БД ссылочные ограничения задаются проектировщиком &amp;lt;&amp;lt;вручную&amp;gt;&amp;gt; по мере формирования очередных отношений (relation) БД. Однако в настоящее время стали широко использоваться средства автоматизации проектирования схем БД. При этом связи между автоматически сформированными отношениями на схеме БД по-прежнему необходимо формировать либо корректировать вручную, а проблема идентификации и удаления избыточных связей вообще не решается. Таким образом, становится актуальной проблема построения корректного и неизбыточного набора ссылочных ограничений целостности. Ответственность за поддержание ограничений целостности в технологии БД возлагается на СУБД. Любая операция по изменению состояния БД, нарушающая какое-либо ограничение целостности, будет заблокирована СУБД. Традиционно в технологии БД используются следующие виды ограничений целостности."/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-6pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <subsection>
          <text value="Ограничение домена"/>
          <text value="При определении структуры отношений БД могут быть заданы ограничения на допустимые значения в столбцах. Определение типа атрибута в отношении задает базовое ограничение, которое контролируется СУБД. В указанном столбце не может появиться значение, противоречащее выбранному типу, например символьная строка в столбце, для которого указан тип &amp;lt;&amp;lt;Дата&amp;gt;&amp;gt;. Кроме того, на значения атрибутов в столбце отношения могут быть дополнены ограничения, например дата должна быть задана в определенном интервале. Попытка ввести значение этого атрибута, лежащее за пределами указанного интервала, будет блокирована СУБД."/>
        </subsection>
        <subsection>
          <text value="Целостность сущностей"/>
          <text value="В каждом отношении должен быть задан первичный ключ, который имеет уникальное непустое значение в каждой строке отношения. Основанием для определения первичного ключа служит множество функциональных зависимостей, формируемых проектировщиком БД. Определенному таким образом набору атрибутов отношения ставится в соответствие свойство PRIMARY KEY. В пределах отношения это свойство может указываться только один раз. Другим способом гарантировать уникальность значений подмножества атрибутов для альтернативных ключей отношения является присвоение этому подмножеству свойства UNIQUE."/>
        </subsection>
        <subsection>
          <text value="Ссылочная целостность"/>
          <text value="Если в некотором отношении значения атрибутов в строке могут принимать только те значения, для которых есть совпадающие значения соответствующих атрибутов в другом отношении, то такое ограничение называется ссылочной целостностью. Для его реализации в СУБД имеется аппарат внешних ключей (FOREIGN KEY). При этом определяется главное отношение и подчиненное отношение: в подчиненном отношении не может быть строк, которым нет соответствующей строки в главном отношении. Система управления БД не позволит выполнить операцию дополнения строки в подчиненное отношение, если в главном отношении нет соответствующего кортежа, и операция удаления строки в главном отношении будет отвергнута, если в подчиненном отношении имеется соответствующая связанная строка (запрет висячих ссылок). Необходимо отметить, что ограничения целостности могут взаимодействовать между собой и, более того, противоречить друг другу. В литературе (см., например,"/>
          <text value="3--5"/>
          <text value=") активно обсуждается проблема взаимодействия функциональных зависимостей и зависимостей включения и, как следствие, взаимодействия целостности сущностей и ссылочной целостности. Ограничения домена, в свою очередь, могут существенно усилить ссылочную целостность вплоть до блокировки ввода записей в подчиненное отношение. В данной работе предполагается отсутствие влияния на ссылочные ограничения других ограничений. Это не лишает актуальности исследования, поскольку используются типизированные зависимости включения, которые имеют огромное практическое значение, но при этом не взаимодействуют с функциональными зависимостями. Ограничения домена могут только сузить область допустимых значений, но это не противоречит результатам данной статьи. Проблема взаимодействия ограничений может быть изучена в дальнейшем как расширение представленных результатов исследования. В настоящее время известны различные варианты автоматизации построения первых двух"/>
          <command value="\linebreak">
            <braces>
              <text value="\linebreak"/>
            </braces>
          </command>
          <text value="видов ограничений целостности, а ссылочная це-"/>
          <command value="\linebreak">
            <braces>
              <text value="\linebreak"/>
            </braces>
          </command>
          <text value="лостность остается без должного внимания. Однако при определении ссылочной целостности могут быть использованы средства автоматизации. Это обусловлено тем, что внешние ключи являются следствием декомпозиции и синтеза схемы БД с использованием функциональных зависи-"/>
          <command value="\linebreak">
            <braces>
              <text value="\linebreak"/>
            </braces>
          </command>
          <text value="мостей. При правильном (классическом) проектировании схемы БД"/>
          <command value="\cite">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="4-z, 3-z"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="в большинстве случаев внешние ключи устанавливаются на атрибутах первичного ключа главного отношения. Этот факт и будет использован для автоматизации построения связей на схеме БД. Классический способ проектирования схемы БД"/>
            </braces>
          </command>
          <command value="\cite">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="4-z, 3-z"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="основан на зависимостях: функциональных, многозначных, соединения и включения. При этом сущности (отношения) БД формируются в процессе проектирования, что позволяет реализовать принцип независимости данных и, как следствие, устойчивость проекта БД при последующей модернизации. Альтернативным подходом к созданию проекта БД служит объектно-ориентированный подход. В этом случае сначала создаются сущности (объекты) БД. Единственным гарантом правильности их формирования является интуиция проектировщика. Зачастую объекты дублируют структуру документооборота предприятия, что нарушает принцип независимости данных и приводит к разрушению структуры БД при необходимости ее модернизации. Затем сразу создаются связи между объектами, также на основе интуиции проектировщика (ER-диаграм"/>
            </braces>
          </command>
          <command value="\specialsymbol">
            <braces>
              <text value="~---"/>
            </braces>
          </command>
          <text value="entity--relationship). Типичной ошибкой при таком подходе становится &amp;lt;&amp;lt;нагрузка&amp;gt;&amp;gt; связей семантикой приложения, т."/>
          <text value="е."/>
          <text value="в связях &amp;lt;&amp;lt;прячутся&amp;gt;&amp;gt; объекты БД. Несмотря на все недостатки объектно-ориентированного подхода, он получил достаточно широкое распространение на практике за счет двух своих преимуществ: наглядности проектирования и низкого уровня требований к квалификации проектировщика. В качестве примеров инструментария таких систем можно привести ERWin, BPWin и др. При преобразовании ER-диаграм"/>
          <command value="\specialsymbol">
            <braces>
              <text value="~---"/>
            </braces>
          </command>
          <text value="исследование свойств ссылочных ограничений целостности и реализация программного обеспечения, позволяющего автоматизировать построение корректного и неизбыточного набора связей на схеме БД, реализующего ссылочные ограничения целостности. На основе разработки нового математического аппарата и на основе известного механизма использования связей на схеме БД разработаны алгоритмы автоматического формирования ссылочных ограничений целостности. Доказаны корректность и неизбыточность результатов построений."/>
        </subsection>
      </section>
      <section id="id2">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Постановка задачи"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="это один из основных видов ограничений в БД, которые поддерживаются большинством существующих СУБД. Для этого в СУБД используются связи, установленные на схеме БД. Путь"/>
        <formula id="id3" value="$U\hm= \{ A_1, A_2,\ldots , A_n\}$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="множество атрибутов, определенных в БД;"/>
        <formula id="id4" value="$[R_i]$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="множество атрибутов, на которых определено отношение$R_i$,"/>
        <formula id="id5" value="$[R_i]\subseteq U$"/>
        <text value=";"/>
        <formula id="id6" value="$\mathfrak{R}\hm= (R_1,&#10;R_2, \ldots , R_k)$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="БД;"/>
        <formula id="id7" value="$S\hm= \{ [R_1], [R_2], \ldots , [R_k]\}$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="схема БД,"/>
        <formula id="id8" value="$1\hm\leq i\hm\leq k$"/>
        <text value=". Значения атрибутов, по которым связаны отношения, заимствуются из главных отношений (справочников) в подчиненные отношения. Между ними устанавливается связь"/>
        <formula id="id9" value="$\mathbf{1}:\mathbf{М}$"/>
        <text value="либо"/>
        <formula id="id10" value="$\mathbf{1}:\mathbf{1}$"/>
        <text value="по направлению от главного отношения к подчиненному. Формальным основанием для установления связей служат зависимости включения (inclusion dependencies)"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="5-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=":"/>
          </braces>
        </command>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Определение 1."/>
        </command>
        <text value="Пусть"/>
        <formula id="id11" value="$[R_i]$"/>
        <text value="и"/>
        <formula id="id12" value="$[R_j]$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="схемы отношений (необязательно различные),"/>
        <formula id="id13" value="$V\subseteq [R_i]$"/>
        <text value="и"/>
        <formula id="id14" value="$W\subseteq [R_j]$"/>
        <text value=","/>
        <formula id="id15" value="$\vert V\vert&#10;\hm= \vert W\vert$"/>
        <text value=", тогда соотношение"/>
        <formula id="id16" value="$R_i[V]\subseteq R_j[W]$"/>
        <text value="называется зависимостью включения."/>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <text value="В этом определении"/>
        <formula id="id17" value="$\vert V\vert$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="мощность множества$V$;"/>
        <formula id="id18" value="$R_i[V]\hm= \pi_V(R_i)$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="проекция отношения$R_i$по атрибутам$V$. Рассмотрим практические аспекты использования зависимостей включения. Будем предполагать, что условие"/>
        <formula id="id19" value="$V\hm= W$"/>
        <text value="является необходимым для установления связи. Такие зависимости включения называются типизированными (typed)"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="6-z, 7-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=". Это дополнительное ограничение вполне согласуется с общепринятым свойством связей на схеме БД: связи отражают количественное соотнесение кортежей в отношениях и не обладают какой-либо семантикой. Необходимость связывания различных по смыслу атрибутов, скорее всего, является признаком потери какой-либо функциональной зависимости для связываемых атрибутов либо, как"/>
          </braces>
        </command>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="в примере 1.1 из"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="7-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", следствием того, что оставшаяся зависимость включения, после удаления избыточных зависимостей, установлена для атрибутов-синонимов и им соответствует тривиальная функциональная зависимость, т."/>
          </braces>
        </command>
        <text value="е."/>
        <text value="решение семантических проблем на предварительном этапе проектирования схемы БД в большинстве случаев позволяет избавиться от необходимости использования нетипизированных зависимостей включения. В прикладных задачах часто приходится иметь дело с неопределенными данными, когда часть характеристик объектов, кроме идентификатора (первичного ключа), неизвестна. В этом случае условие"/>
        <formula id="id20" value="$\pi_V(R_i)\subseteq&#10;\pi_W(R_j)$"/>
        <text value="в определении 1 может быть не выполнено, т."/>
        <text value="е."/>
        <text value="в отношении$R_i$могут быть кортежи с неопределенными значениями. Этим кортежам соответствуют кортежи в$R_j$, но с определенными значениями. В технологии БД такое соответствие называется расширенной связью. Далее определение 1 будет изменено в соответствии с этим дополнением. Рассмотрим пример, когда между отношениями должна быть установлена связь"/>
        <formula id="id21" value="$\mathbf{1}:\mathbf{1}$"/>
        <text value="."/>
        <command value="\medskip"/>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Пример 1."/>
        </command>
        <text value="Пусть$A_1$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="&amp;lt;&amp;lt;Табельный номер сотрудника&amp;gt;&amp;gt;,$A_2$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="&amp;lt;&amp;lt;ФИО сотрудника&amp;gt;&amp;gt;,$A_3$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="&amp;lt;&amp;lt;Дата увольнения сотрудника&amp;gt;&amp;gt;. Существуют функциональные зависимости:"/>
        <formula id="id22" value="$A_1\hm\toA_2$"/>
        <text value="и"/>
        <formula id="id23" value="$A_1\hm\toA_3$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="только для уволенных. Это и должно служить основанием для построения декомпозиции:"/>
        <formula id="id24" value="$R_i[A_1,&#10;A_2]$"/>
        <text value="и"/>
        <formula id="id25" value="$R_j[A_1, A_3]$"/>
        <text value=". Между$R_i$и$R_j$устанавливается связь"/>
        <formula id="id26" value="$\mathbf{1}:\mathbf{1}$"/>
        <text value=", где$R_i$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="главное отношение, а$R_j$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="подчиненное. Заметим, что такая декомпозиция решает проблему заведомо неопределенных значений: в объединенном отношении"/>
        <formula id="id27" value="$R_l[A_1, A_2, A_3]$"/>
        <text value="значение атрибута$A_3$будет иметь неопределенное значение для всех неуволенных сотрудников. Формальное определение области зависимости включения является трудоемкой задачей, требующей отдельного исследования, в данной"/>
        <command value="\mbox">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="статье"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="ограничимся данным примером для понимания термина &amp;lt;&amp;lt;область определения функциональной зависимости&amp;gt;&amp;gt;."/>
          </braces>
        </command>
        <command value="\medskip">
          <braces>
            <text value="Введем обозначения:"/>
          </braces>
        </command>
        <formula id="id28" value="$\mathrm{PK}(R_i)$"/>
        <text value=", или просто"/>
        <formula id="id29" value="$\mathrm{PK}(i)$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="множество атрибутов, служащее первичным ключом в отношении$R_i$;"/>
        <formula id="id30" value="$L(i,j,X)$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="связь"/>
        <formula id="id31" value="$\mathbf{1}:\mathbf{1}$"/>
        <text value="либо"/>
        <formula id="id32" value="$\mathbf{1}:\mathbf{M}$"/>
        <text value="от$R_i$к$R_j$, установленная по множеству атрибутов$X$, где$R_i$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="главное отношение, а$R_j$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="подчиненное отношение;"/>
        <formula id="id33" value="$L_1(i,j,X)$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="связь"/>
        <formula id="id34" value="$\mathbf{1}:\mathbf{1}$"/>
        <text value="от$R_i$к$R_j$;"/>
        <formula id="id35" value="$L_M(i,j,X)$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="связь"/>
        <formula id="id36" value="$\mathbf{1}:\mathbf{M}$"/>
        <text value="от$R_i$к$R_j$. Заметим, что в отношении$R_i$может существовать несколько альтернативных первичных ключей и множество связей, в которых$R_i$будет главным или подчиненным. Далее рассмотрим определение связей между отношениями БД, которые будем использовать в качестве расширенных ссылочных ограничений целостности, учитывающих наличие неопределенных значений."/>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Определение 2."/>
        </command>
        <text value="Между отношениями$R_i$и$R_j$допустима связь"/>
        <formula id="id37" value="$L_1(i,j,X)$"/>
        <text value=", если"/>
        <formula id="id38" value="$X\hm= \mathrm{PK}(R_i) \hm= \mathrm{PK}(R_j)$"/>
        <text value="и для любых реализаций$R_i$и$R_j$выполнено"/>
        <formula id="id39" value="$\pi_X(R_j)\subseteq \pi_X(R_i)$"/>
        <text value=". В этом определении невозможно наличие неопределенных значений, поскольку атрибуты$X$в обоих отношениях являются компонентами первичного ключа."/>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Определение 3."/>
        </command>
        <text value="Между отношениями$R_i$и$R_j$допустима связь"/>
        <formula id="id40" value="$L_M(i,j,X)$"/>
        <text value=", если"/>
        <formula id="id41" value="$\mathrm{PK}(R_i)\not= \mathrm{PK}(R_j)$"/>
        <text value="и"/>
        <formula id="id42" value="$\mathrm{PK}(R_i)\subseteq [R_j]$"/>
        <text value="."/>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <text value="В определении 3 отношение$R_j$может содержать неопределенные значения для атрибутов, не принадлежащих первичному ключу. Заметим, что определения 2 и 3 соответствуют типизированным зависимостям включения, которые поддерживаются СУБД за счет создания внешних ключей (foreign key). Ограничение целостности, задаваемое связью"/>
        <formula id="id43" value="$L_M(i,j,X)$"/>
        <text value=", не подразумевает выполнения условия"/>
        <formula id="id44" value="$\pi_X(R_j)\subseteq \pi_X(R_i)$"/>
        <text value=", где"/>
        <formula id="id45" value="$X\hm= R_i \cap R_j$"/>
        <text value=", поскольку атрибуты$X$, не принадлежащие"/>
        <formula id="id46" value="$\mathrm{PK}(R_j)$"/>
        <text value=", могут принимать неопределенные значения, тогда как в$R_i$им соответствуют определенные значения. Смысл ограничения в том, что неопределенное значение какого-либо атрибута в$R_j$может быть заменено только тем определенным значением, которое есть в$R_i$. Поиск связей, соответствующих определениям 2 и 3, достаточно просто алгоритмизируется, что позволяет выявлять большинство ссылочных ограничений целостности в автоматическом ре-"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="жиме. В схемах БД"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="8-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="кроме рассмотренных используются следующие связи:"/>
          </braces>
        </command>
        <enumerate/>
        <text value="Поскольку связи на схеме БД являются парными, то связь 1 служит частным случаем связи"/>
        <formula id="id47" value="$\mathbf{1}:\mathbf{M}$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="частным случаем связи"/>
        <formula id="id48" value="$\mathbf{1}:\mathbf{1}$"/>
        <text value="со стороны обоих отношений, связь 3 совпадает со связью"/>
        <formula id="id49" value="$\mathbf{1}:\mathbf{1}$"/>
        <text value="со стороны второго отношения, связь 4 совпадает со связью"/>
        <formula id="id50" value="$\mathbf{1}:\mathbf{M}$"/>
        <text value="со стороны второго отношения. Другие варианты связей, имеющие тип связи 3 со стороны первого отношения, противоречат определению зависимости включения и не являются ограничением ссылочной целостности данных. Такие связи будем далее игнорировать. Особый случай представляет вариант связи"/>
        <formula id="id51" value="$\mathbf{1}:\mathbf{M}$"/>
        <text value=", который допускает наличие кортежей с неопределенными значениями общих атрибутов во втором отношении, когда они не являются ключевыми. Поскольку неопределенное значение не равно определенному значению, то этот вариант связи противоречит зависимости включения, но остается ограничением целостности. Оставим такую связь в рассмотрении, назвав ее расширенной связью. Таким образом, задача состоит в разработке алгоритмов для формирования ссылочных ограничений целостности в соответствии с определениями 2 и 3."/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-6pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
      </section>
      <section id="id52">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Ациклические схемы баз данных"/>
        <text value="В работе"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="6-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="условие ацикличности зависимостей включения формулируется следующим образом: множество зависимостей включения является ациклическим, если не существует объекта"/>
          </braces>
        </command>
        <formula id="id53" value="$R[X]\subseteq R[Y]$"/>
        <text value="и"/>
        <formula id="id54" value="$X\not= Y$"/>
        <text value="и не существует отношений"/>
        <formula id="id55" value="$R_1, R_2, \ldots, R_n$"/>
        <text value="("/>
        <formula id="id56" value="$n\hm&amp;gt;1$"/>
        <text value=") таких, что"/>
        <formula id="id57" value="$R_1[X_1]\hm\subseteq R_2[Y_2], R_2[X_2]\subseteq R_3[Y_3]$"/>
        <text value=","/>
        <command value="\ldots">
          <braces>
            <text value=","/>
          </braces>
        </command>
        <formula id="id58" value="$R_n[X_n]\subseteq R_1[Y_1]$"/>
        <text value=". Тогда условие ацикличности зависимостей включения можно проверять с использованием полиномиального алгоритма построения замыкания множества отношений. Рассмотрим простейший пример с типизированными зависимостями включения"/>
        <formula id="id59" value="$R_1[X_1]\hm\subseteq R_2[X_1]$"/>
        <text value=","/>
        <formula id="id60" value="$R_2[X_1]\subseteq R_3[X_1]$"/>
        <text value="и пусть атрибуты$X_1$в отношении$R_2$допускают неопределенные значения. Тогда замыкание"/>
        <formula id="id61" value="$R_1[X_1]\subseteq&#10;R_3[X_1]$"/>
        <text value="не выполнено, поскольку не выполнена зависимость"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <formula id="id62" value="$R_2[X_1]\subseteq R_3[X_1]$"/>
        <text value=". Это говорит о том, что учет расширенных связей не позволяет использовать аппарат выводимости и построение замыкания."/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="В предлагаемом подходе условие"/>
        <formula id="id63" value="$R_2[X_1]\subseteq R_3[X_1]$"/>
        <text value="выполнено, если$X_1$является первичным ключом в$R_2$, а в первичном ключе неопределенные значения не допускаются. Это несколько сужает область применимости, но позволяет формировать корректные построения с учетом расширенных связей. Сформулируем условие ацикличности для совокупности отношений по аналогии с условием ацикличности зависимостей включения"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="6-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", но учитывающее расширенные связи."/>
          </braces>
        </command>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Определение 4."/>
        </command>
        <text value="Совокупность отношений"/>
        <formula id="id64" value="$\mathfrak{R}$"/>
        <text value="будем называть ациклической, если не существует упорядоченного подмножества отношений"/>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\begin"/>
        <command value="\left"/>
        <text value="R_"/>
        <braces>
          <text value="{}"/>
          <text value="m(1)"/>
        </braces>
        <text value=", R_"/>
        <braces>
          <text value="{}"/>
          <text value="m(2)"/>
        </braces>
        <text value=","/>
        <command value="\ldots">
          <braces>
            <text value=", R_"/>
          </braces>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="m(s)"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\right"/>
        <command value="\subseteq"/>
        <command value="\mathfrak">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="R"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\end">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="equation*"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="такого, что имеются связи"/>
          </braces>
        </command>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-4pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\begin">
          <braces>
            <text value="L"/>
          </braces>
        </command>
        <command value="\left">
          <braces>
            <text value="(m(1), m(2), X_1"/>
          </braces>
        </command>
        <command value="\right">
          <braces>
            <text value="), L"/>
          </braces>
        </command>
        <command value="\left">
          <braces>
            <text value="(m(2), m(3), X_2"/>
          </braces>
        </command>
        <command value="\right">
          <braces>
            <text value="),"/>
          </braces>
        </command>
        <command value="\ldots"/>
        <command value="\ldots">
          <braces>
            <text value=", L"/>
          </braces>
        </command>
        <command value="\left">
          <braces>
            <text value="(m(s), m(1), X_s"/>
          </braces>
        </command>
        <command value="\right">
          <braces>
            <text value=")"/>
          </braces>
        </command>
        <text value=","/>
        <command value="\label">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="e2-z"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\end">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="multline"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="$s&amp;gt;1$и"/>
          </braces>
        </command>
        <formula id="id65" value="$X_1\subseteq X_2\subseteq \cdots \subseteq X_s$"/>
        <text value=", в противном случае совокупность отношений"/>
        <formula id="id66" value="$\mathfrak{R}$"/>
        <text value="будем называть циклической. Последовательность ("/>
        <command value="\ref">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="e2-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=") может содержать расширенные связи. В работе"/>
          </braces>
        </command>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="9-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="рассмотрено несколько различных условий ацикличности"/>
          </braces>
        </command>
        <formula id="id67" value="$\mathfrak{R}$"/>
        <text value="и доказана их эквивалентность. Одно из условий, рассмотренное также в работе"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="3-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", устанавливает, что совокупность"/>
          </braces>
        </command>
        <formula id="id68" value="$\mathfrak{R}$"/>
        <text value="является ациклической, если ацикличен ассоциированный с ней гиперграф. Поскольку предполагается, что в"/>
        <formula id="id69" value="$\mathfrak{R}$"/>
        <text value="отсутствуют отношения, для которых"/>
        <formula id="id70" value="$[R_i]\subseteq [R_j]$"/>
        <text value="при"/>
        <formula id="id71" value="$i\not= j$"/>
        <text value=", то гиперграф будет редуцированным."/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Определение 5."/>
        </command>
        <text value="В контексте БД гиперграфом называется пара"/>
        <formula id="id72" value="$G\hm= (U,S)$"/>
        <text value=", где вершинами$U$служат атрибуты БД, а элементами$S$являются гиперребра"/>
        <formula id="id73" value="$[R_i]$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="атрибуты, входящие в"/>
        <formula id="id74" value="$[R_i]$"/>
        <text value=". Гиперграф будет циклическим, если существует атрибут$A$и последовательность"/>
        <formula id="id75" value="$[R_1^\prime],&#10;[R_2^\prime],\ldots , [R_m^\prime]$"/>
        <text value="такая, что"/>
        <formula id="id76" value="$A\hm\in [R_1^\prime]$"/>
        <text value="и"/>
        <formula id="id77" value="$A\hm\in [R_m^\prime]$"/>
        <text value=", и"/>
        <formula id="id78" value="$[R_i^\prime]\cap [R^\prime_{i+1}]\not= \emptyset$"/>
        <text value="для"/>
        <formula id="id79" value="$1\hm\leq i\hm\leq m\hm-1$"/>
        <text value="."/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Теорема 1."/>
        </command>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Если совокупность"/>
        </command>
        <formula id="id80" value="$\mathfrak{R}$"/>
        <text value="циклическая, то ассоциированный с ней гиперграф также будет циклическим."/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <text value="Д"/>
        <text value="о"/>
        <text value="к"/>
        <text value="а"/>
        <text value="з"/>
        <text value="а"/>
        <text value="т"/>
        <text value="е"/>
        <text value="л"/>
        <text value="ь"/>
        <text value="с"/>
        <text value="т"/>
        <text value="в"/>
        <text value="о"/>
        <text value="."/>
        <text value="Подмножество отношений"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <formula id="id81" value="$\{R_{m(1)}, R_{m(2)}, \ldots, R_{m(s)}\}\subseteq \mathfrak{R}$"/>
        <text value="соответствует ребрам в ассоциированном гиперграфе. Ребра связы-"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="узлы гиперграфа. Существование последовательности"/>
        <formula id="id82" value="$L\left(m(1)\right.$"/>
        <text value=","/>
        <formula id="id83" value="$\left.m(2),X_1\right)\!, &#10;L\left(m(2), m(3),X_2\right)\!, \ldots , L\left( m(s), m(1)\!,X_s\right)$"/>
        <text value="гарантирует, что"/>
        <formula id="id84" value="$R_{m(i)}\cap R_{m(i+1)}\not=\emptyset$"/>
        <text value=","/>
        <formula id="id85" value="$i\hm= 1,2,\ldots , s$"/>
        <text value=", где"/>
        <formula id="id86" value="$m(s+1)\hm= m(1)$"/>
        <text value=". Следовательно, подмножество"/>
        <formula id="id87" value="$\{ R_{m(1)}, R_{m(2)},&#10;\ldots , R_{m(s)}\}\subseteq \mathfrak{R}$"/>
        <text value="вместе со связывамыми узлами образует цикл в общем гиперграфе. А значит, общий гиперграф для"/>
        <formula id="id88" value="$\mathfrak{R}$"/>
        <text value="будет циклическим."/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Исследование соотношения условий ацикличности в"/>
          </braces>
        </command>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="9-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="с определением 4 продолжим рассмотрением примера 13.15 из"/>
          </braces>
        </command>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="3-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=":"/>
          </braces>
        </command>
        <formula id="id89" value="$\mathfrak{R}\hm= \{R_1, R_2, R_3\}$"/>
        <text value=", где"/>
        <formula id="id90" value="$R_1[ABC]$"/>
        <text value=";"/>
        <formula id="id91" value="$R_2[BD]$"/>
        <text value=";"/>
        <formula id="id92" value="$R_3[CD]$"/>
        <text value=". Дополним этот пример функциональными зависимостями"/>
        <formula id="id93" value="$\{BC\hm\toA, B\hm\toD, C\hm\toD\}$"/>
        <text value=", которые могли быть использованы при построении"/>
        <formula id="id94" value="$\mathfrak{R}$"/>
        <text value=". Ассоциированный с"/>
        <formula id="id95" value="$\mathfrak{R}$"/>
        <text value="гиперграф является циклическим, тогда как по определению 4 совокупность"/>
        <formula id="id96" value="$\mathfrak{R}$"/>
        <text value="является ациклической, поскольку для нее существуют только две связи:"/>
        <formula id="id97" value="$L_M(2,1,B)$"/>
        <text value="и"/>
        <formula id="id98" value="$L_M(3,1,C)$"/>
        <text value=". Таким образом, класс ациклических схем БД по определению 4 шире, чем по условиям в"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="9-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="."/>
          </braces>
        </command>
      </section>
      <section id="id99">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Формирование неизбыточного набора связей"/>
        <text value="Далее будем предполагать, что совокупность"/>
        <formula id="id100" value="$\mathfrak{R}$"/>
        <text value="является ациклической в соответствии с определением 4."/>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Определение 6."/>
        </command>
        <text value="Связь"/>
        <formula id="id101" value="$L(i,j,X)$"/>
        <text value="задает множество допустимых кортежей$T_i$в$R_j$. Тогда связь"/>
        <formula id="id102" value="$L(i,j,X)$"/>
        <text value="будет избыточной, если существуют связи"/>
        <formula id="id103" value="$L(l,j,Y_l)$"/>
        <text value=","/>
        <formula id="id104" value="$l\hm= 1,\ldots ,m$"/>
        <text value=", где"/>
        <formula id="id105" value="$\mathop{\cap}\limits_{l=1}^m T_l\subseteq T_i$"/>
        <text value="."/>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <text value="Заметим, что под определение 6 не попадают"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="избыточные связи, являющиеся следствием взаимодействия функциональных зависимостей и зависимостей включения"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="5-z, 7-z"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", поскольку для типизированных зависимостей включения такое взаимодействие удаляется на этапе проектирования схем отношений БД. По этой же причине между парой отношений может быть установлена только одна связь (другая может быть только циклической). Далее будем рассматривать только такие множества"/>
          </braces>
        </command>
        <formula id="id106" value="$\mathfrak{R}$"/>
        <text value=". Для формирования неизбыточного набора связей на схеме БД сначала формируется множество отношений"/>
        <formula id="id107" value="$\mathfrak{R}\hm= \{R_1, R_2, \ldots ,&#10;R_q\}$"/>
        <text value="в соответствии с нормальной формой Бойса--Кодда. По определениям 2 и 3 между сформированными отношениями устанавливаются связи"/>
        <formula id="id108" value="$L_M(i,j,X)$"/>
        <text value="и"/>
        <formula id="id109" value="$L_1(i,j,X)$"/>
        <text value=". Затем осуществляется удаление избыточных связей. Cвязи"/>
        <formula id="id110" value="$L_M(i,j,X)$"/>
        <text value="не могут быть установлены простым алгоритмом перебора по определению 3, поскольку наличие связи предполагает ссылочное ограничение целостности, а оно, в свою очередь, зависит от семантики прикладной области. Для демонстрации этого факта рассмотрим пример."/>
        <command value="\smallskip">
          <braces>
            <text value="\smallskip"/>
          </braces>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <command value="\textbf">
          <braces>
            <text value="\textbf{}"/>
          </braces>
          <text value="Пример 2."/>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="фрагмент схемы БД учебного заведения, где подчеркнуты ключевые атрибуты отношений:"/>
        <command value="\begin"/>
      </section>
    </fulltext>
  </paper>
</papers>