<?xml version="1.0" encoding="utf-8"?>
<papers>
  <paper>
    <metadata>
      <annotation value="\Abst{Приведено описание программно-аппаратного комплекса для автоматизации процесса получения и контроля цифровых фотографий для биометрических документов: общая структура комплекса, функции, аппаратное и алгоритмическое обеспечение. Алгоритмическое обеспечение комплекса включает: детектор лица, модуль оценки яркостных и цветовых характеристик; детектор открытых/закрытых глаз; детектор очков; детектор бликов и теней; детектор основных элементов лица (рот, нос, брови), детектор поворотов и наклонов головы. Проведено исследование точности используемых алгоритмов косвенной оценки углов поворота лица по монокулярному цифровому изображению. Для этого разработана специальная методика, основанная на использовании синтезированных ракурсных изображений реальных лиц, реконструированных по результатам трехмерного сканирования.}"/>
      <keywords>
        <braces>
          <text value="\KW{биометрия; персональные документы; обнаружение лиц; бустинг; трехмерное сканирование; трехмерное моделирование}"/>
        </braces>
      </keywords>
    </metadata>
    <fulltext>
      <literature/>
      <text value="karateev"/>
      <text value="АВТОМАТИЗИРОВАННЫЙ КОНТРОЛЬ КАЧЕСТВА ЦИФРОВЫХ ИЗОБРАЖЕНИЙ ДЛЯ ПЕРСОНАЛЬНЫХ ДОКУМЕНТОВ$^*$"/>
      <text value="Автоматизированный контроль качества цифровых изображений для персональных документов"/>
      <text value="С."/>
      <text value="Л. Каратеев, И."/>
      <text value="В. Бекетова, М."/>
      <text value="В. Ососков, В."/>
      <text value="А. Князь, Ю."/>
      <text value="В. Визильтер, А."/>
      <text value="В. Бондаренко, С."/>
      <text value="Ю. Желтов"/>
      <text value="С."/>
      <text value="Л. Каратеев$^1$, И."/>
      <text value="В. Бекетова$^2$, М."/>
      <text value="В. Ососков$^3$, В."/>
      <text value="А. Князь$^3$, Ю."/>
      <text value="В. Визильтер$^3$, А."/>
      <text value="В. Бондаренко$^3$, С."/>
      <text value="Ю. Желтов$^3$"/>
      <command value="\titel">
        <braces>
          <braces>
            <text value="{}"/>
            <command value="\tit">
              <braces/>
              <braces>
                <braces>
                  <text value="{}"/>
                  <command value="\aut">
                    <braces/>
                    <braces>
                      <braces>
                        <text value="{}"/>
                        <command value="\autkol">
                          <braces/>
                          <braces>
                            <braces>
                              <text value="{}"/>
                              <command value="\titkol">
                                <braces/>
                                <braces>
                                  <braces>
                                    <text value="{}"/>
                                    <command value="\renewcommand">
                                      <braces>
                                        <braces>
                                          <text value="{}"/>
                                          <command value="\thefootnote">
                                            <braces/>
                                            <braces>
                                              <braces>
                                                <text value="{}"/>
                                                <command value="\fnsymbol">
                                                  <braces>
                                                    <braces>
                                                      <text value="{}"/>
                                                      <text value="footnote"/>
                                                    </braces>
                                                  </braces>
                                                  <braces/>
                                                  <braces/>
                                                </command>
                                              </braces>
                                            </braces>
                                          </command>
                                        </braces>
                                      </braces>
                                    </command>
                                  </braces>
                                </braces>
                              </command>
                            </braces>
                          </braces>
                        </command>
                      </braces>
                    </braces>
                  </command>
                </braces>
              </braces>
            </command>
          </braces>
        </braces>
      </command>
      <command value="\footnotetext">
        <braces>
          <text value="\footnotetext[1]{}"/>
        </braces>
      </command>
      <text value="Работа выполнена при поддержке РФФИ, проект 09-07-13551-офи"/>
      <command value="\_ц">
        <braces>
          <text value="."/>
        </braces>
        <braces/>
        <braces/>
      </command>
      <command value="\renewcommand">
        <braces>
          <braces>
            <text value="{}"/>
            <command value="\thefootnote">
              <braces/>
              <braces>
                <braces>
                  <text value="{}"/>
                  <command value="\arabic">
                    <braces>
                      <braces>
                        <text value="{}"/>
                        <text value="footnote"/>
                      </braces>
                    </braces>
                    <braces/>
                    <braces/>
                  </command>
                </braces>
              </braces>
            </command>
          </braces>
        </braces>
      </command>
      <command value="\footnotetext">
        <braces>
          <text value="\footnotetext[1]{}"/>
        </braces>
      </command>
      <text value="ФГУП &amp;lt;&amp;lt;Государственный научно-исследовательский институт авиационных систем&amp;gt;&amp;gt;, goga@gosniias.ru"/>
      <command value="\footnotetext">
        <braces>
          <text value="\footnotetext[2]{}"/>
        </braces>
      </command>
      <text value="ФГУП &amp;lt;&amp;lt;Государственный научно-исследовательский институт авиационных систем&amp;gt;&amp;gt;, irus@gosniias.ru"/>
      <command value="\footnotetext">
        <braces>
          <text value="\footnotetext[3]{}"/>
        </braces>
      </command>
      <text value="ФГУП &amp;lt;&amp;lt;Государственный научно-исследовательский институт авиационных систем&amp;gt;&amp;gt;"/>
      <command value="\vspace*">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="6pt"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\vspace*">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="2pt"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\vspace*">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="11pt"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\vskip">
        <braces>
          <text value="18pt plus 9pt minus 6pt"/>
        </braces>
      </command>
      <command value="\thispagestyle">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="headings"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\begin">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="2"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\label">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="st"/>
            <command value="\stat">
              <braces/>
            </command>
          </braces>
        </braces>
      </command>
      <section id="id1">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Введение"/>
        <text value="Введение стандарта на цифровые фотографии лица определяет необходимость автоматизации операций контроля качества изображений лиц как непосредственно в процессе получения этих изображений, так и на любом этапе подготовки паспортных, визовых и иных персональных документов."/>
        <braces>
          <text value="{}"/>
          <command value="\looseness">
            <braces>
              <text value="=1"/>
            </braces>
            <braces/>
            <braces>
              <text value="Для обеспечения согласованности национальных стандартов цифровых фотографий международной организацией по стандартизации были выработаны рекомендации ISO/IEC FCD"/>
            </braces>
          </command>
          <command value="\mbox">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="19794-5"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=". В России стандартом, определяющим требования к изображениям лиц для биометрических документов, является ГОСТ ИСО/МЭК 19794-5-2006."/>
            </braces>
            <braces>
              <braces>
                <text value="{}"/>
                <command value="\looseness">
                  <braces>
                    <text value="=1"/>
                  </braces>
                  <braces/>
                  <braces>
                    <text value="Для автоматизации процесса получения цифровых фотографий, удовлетворяющих основным требованиям и рекомендациям ГОСТ ИСО/МЭК 19794-5-2006, в ГосНИИАС был разработан описанный в данной статье программно-аппаратный комплекс. Комплекс обеспечивает получение цифровых фотографий лица, а также оценку в реальном времени основных характеристик изображения и параметров лица, что позволяет оператору с мини-"/>
                  </braces>
                </command>
              </braces>
            </braces>
          </command>
        </braces>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-12pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\columnbreak"/>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <text value="мальными усилиями, не превышающими усилия, необходимые для получения обычной качественной фотографии лица, получать цифровые фотографии лиц, гарантированно удовлетворя"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="как в цифровом, так и в бумажном виде, предоставляя возможность оценки пригодности фотографий для последующей биометрической обработки."/>
        <braces>
          <text value="{}"/>
        </braces>
        <text value="В данной статье также описаны результаты исследования возможной точности алгоритмов косвенной оценки углов поворота лица по монокулярному цифровому изображению. Поскольку в соответствии с требованиями ГОСТ ИСО/МЭК 19794-5-2006 на цифровой фотографии лица в биометрических документах допустимый угол поворота изображения лица (головы) вокруг любой из осей координатной системы не должен превышать 5"/>
        <formula id="id2" value="$^\circ$"/>
        <text value=","/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="задача оценки возможной точности измерения пространственной ориентации головы на цифровом изображении представляет существенный интерес, равно как и задача выбора наиболее надежно работающих косвенных методов оценки углов поворота."/>
        <braces>
          <text value="{}"/>
          <command value="\looseness">
            <braces>
              <text value="=1"/>
            </braces>
            <braces/>
          </command>
        </braces>
      </section>
      <section id="id3">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Требования к цифровым фотографиям для биометрических документов"/>
        <text value="ГОСТ ИСО/МЭК 19794-5-2006 определяет основные требования и дополняющие их рекомендации к цифровым изображениям лица и форматам сохранения данных. Общий вид и основные геометрические характеристики фотографии лица приведены на рис. 1."/>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="6pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~1}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Основные геометрические характеристики изображения лица"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
        </command>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Основные характеристики изображения лица на цифровой фотографии для биометрических документов должны соответствовать следующим требованиям:"/>
          </braces>
        </command>
        <itemize/>
        <text value="Как видно из вышеприведенных требований, проверка цифровых изображений лица на соответствие требованиям ГОСТа является весьма нетривиальной задачей. Здесь недостаточно визуального анализа фотографии для принятия решения о"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="ее пригодности для использования в документах, удостоверяющих личность. Поэтому при создании мобильного комплекса биометрической"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="регистрации изображений лиц было разработано специализированное программное обеспече-"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="ние, автоматизирующее процесс создания и"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="контроля фотографий, удовлетворяющих требованиям"/>
        <command value="\mbox">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="ГОСТа"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="."/>
          </braces>
        </command>
      </section>
      <section id="id4">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Алгоритмическое обеспечение комплекса"/>
        <text value="На основании измеренных и рассчитанных характеристик изображения лица алгоритмическое обеспечение осуществляет диагностику наличия и причин отклонений от требований ГОСТа и вывод сообщений об этих отклонениях и их возможных причинах. Для получения оценок основных параметров изображения лица в автоматическом режиме решаются следующие задачи:"/>
        <itemize/>
        <text value="Алгоритм автоматического обнаружения области лица является вариантом каскадного детектора, обучаемого с помощью метода Adaboost"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1kor, 2kor"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=". В алгоритме слабые (weak) классификаторы построены на основе фильтров Хаара, однако отклик формируется с использованием аппроксимации распределения вероятностей амплитуды откликов."/>
          </braces>
        </command>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="Аппроксимация распределения вероятностей откликов представляется в виде гистограммы, которая строится по взвешенным примерам, в результате чего обучение слабых классификаторов"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="проводится на подвыборках одного и того же фиксированного размера, но имеющих различные распределения обучающих изображений. В процессе обучения при формировании каскадного классификатора для каждого последующего классификатора признаковое пространство сокращается за счет устранения признаков, на которых построены предыдущие классификаторы. Поскольку каждый"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="следующий классификатор обучается в другом"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="подпространстве признаков, он обладает уточняющими свойствами и работает по принципу последовательных приближений. Классификатор представляет собой линейную комбинацию слабых классификаторов, число которых варьируется от 5 до 75. Классификаторы объединяются в каскадную структуру, число слоев каскада варьируется от 4 до 8 в зависимости от желаемого уровня соотношения ошибок первого и второго рода. Математическое моделирование показало"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="3kor"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", что при работе по случайно выбранной совокупности тестовых изображений алгоритм автоматического обнаружения изображений лица обеспечивает вероятность правильного обнаружения не менее 0,95 при вероятности ложного обнаружения лица не более 0,01. Алгоритм автоматического определения контура лица на изображении построен на использовании информации об оттенках кожи человека."/>
          </braces>
        </command>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="Областью интереса алгоритма является фрагмент изображения, классифицированный как лицо каскадным классификатором Adaboost. Каждому пикселю цветного RGB-фрагмента изображения ставится в соответствие вектор параметров цвета (H, S, V) в цветовом пространстве HSV ($H$ue,$S$aturation,$V$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="цветовой тон, насыщенность, яркость)"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="6kor"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=". Распределение оттенков кожи представлено бинарной картой, хранящейся в структуре данных типа &amp;lt;&amp;lt;просмотровой таблицы&amp;gt;&amp;gt; (Look-Up-Table, LUT). Сегментация фрагмента изображения выполняется путем проверки принадлежности параметров цвета пикселей к кластеру модели оттенков кожи с помощью операции поиска по таблице. Область изображения кожи формируется из пикселей, векторы параметров которых вошли в один из кластеров. Для формирования одной однородной области пикселей, по цвету соответствующих оттенкам кожи, и удаления мелких областей, линий и отдельных пикселей к изображению применяются такие операции математической морфологии, как дилатация и эрозия. Линии контура лица формируются с помощью алгоритма сплайн-интерполяции к координатам граничных пикселей области кожи лица. Размеры прямоугольника, в который вписаны линии контура лица, являются линейными размерами изображения лица. На рис. 2 приведены результаты работы алгоритма цветовой сегментации изображения лица. Белым цветом отображены пиксели, классифицированные как кожа."/>
          </braces>
        </command>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~2}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Пример работы алгоритма цветовой пиксельной сегментации кожи лица: ("/>
            </braces>
          </braces>
        </command>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="а"/>
        </command>
        <text value=") исходное изображение; ("/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="б"/>
        </command>
        <text value=") результат выделения кожи на изображении"/>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Задача обнаружения изображений глаз решается как задача поиска и распознавания на цифровом изображении лица локальных областей, обладающих специфическими характерными для"/>
          </braces>
        </command>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="изображений глаз параметрами. Областью интереса алгоритма является часть изображения лица, представляющая собой область ожидаемого расположения глаз. На основе статистической модели проводится предварительная оценка ожидаемого положения и размеров глаз, благодаря чему существенно возрастает вычислительная эффективность алгоритма. Алгоритм автоматического обнаружения области глаз с помощью каскадного классификатора Adaboost определяет координаты глаз в пределах радужной оболочки. Для точной локализации изображений глаз производится поиск координат центров зрачков с использованием операций морфологической фильтрации. Морфологический фильтр выделяет изображение зрачка и радужной оболочки глаза, устраняя при этом шумовые помехи и артефакты изображения, например блики. Координаты центров зрачков определяются путем свертки изображения с круговым фильтром, подчеркивающим форму зрачка. Проведенное математическое моделирование показало, что при работе по случайно выбранной совокупности тестовых изображений разработанный алгоритм автоматического обнаружения и локализации изображений глаз обеспечивает вероятность правильного обнаружения и локализации не менее 0,95 при вероятности ложного обнаружения глаз не более 0,01. Пример работы алгоритмов обнаружения изображения лица, выделения контура лица и обнаружения глаз представлен на рис. 3. Определение бликов и областей затенения осуществляется путем анализа пространственных распределений яркостей на последовательности изображений лица, сглаженных окнами различных"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="размеров. При этом бликом считается появление связанной области площадью более 1"/>
        <text value="от площади лица, в которой все компоненты RGB равны и превышают по амплитуде 250, а признаком затенения является наличие на изображении лица области размером более 10"/>
        <text value="от площади лица, яркость которой отличается более чем на 10"/>
        <text value="от яркости симметричной ей области изображения. В связи с тем, что яркостные отличия могут быть вызваны причинами, не связанными с наличием тени, например дефектами лица или небритостью, признак затенения носит рекомендательный характер и не влияет на вывод о соответствии изображения лица требованиям ГОСТа."/>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="6pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~3}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Пример работы алгоритмов обнаружения лица и обнаружения глаз"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
        </command>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="После проведения основных операций над изображением лица выполняется анализ полученных данных на соответствие ГОСТу. Для этого производится расчет оценок характеристик изображения, производных от геометрических параметров лица, и проверка наличия артефактов на самом изображении. Выполняются следующие операции:"/>
          </braces>
        </command>
        <itemize/>
        <text value="На заключительном этапе интерпретации"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="результатов проводится проверка оцененных параметров изображения на соответствие требованиям стандарта. В случае несоответствия вычисленных параметров изображения требованиям стандарта выдаются рекомендации по изменению условий съемки. В случае формирования условно-фронтальных изображений система выполняет необходимые повороты и перемасштабирование изображения."/>
      </section>
      <section id="id5">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Конструктивные особенности программно-аппаратного комплекса"/>
        <text value="Одним из основных приоритетов при выборе конструкции комплекса было требование создания наиболее простой, мобильной и сравнительно дешевой конструкции, состоящей из широкодоступных готовых компонентов. Пограммно-аппаратный комплекс включает:"/>
        <itemize/>
        <text value="Комплекс обеспечивает выполнение следующих основных функций:"/>
        <itemize/>
        <text value="При установке системы предлагается выбор используемого устройства видеоввода. В качестве такого устройства может использоваться цифровой фотоаппарат, имеющий программный интерфейс с компьютером, или сканер. Кроме этого, в качестве источника данных может использоваться любой внешний носитель информации, содержащий массивы цифровых фотографий в форматах BMP или JPEG. На рис. 4 представлен общий вид комплекса. Программное обеспечение работает под управлением ОС Windows 2000/XP. Интерфейс программы представляет собой диалоговое окно, в котором помимо изображения текущей фотографии также отображаются результаты проверки требований к изображению лица в виде пиктограмм и текстовой информации. Если полученное изображение имеет отклонения от норм ГОСТа, оператор получает визуальное и звуковое оповещение. При этом изображения на пиктограммах и соответствующие текстовые сообщения подсказывают ему причину ошибки. Каждая из пиктограмм, имеющихся в окне программы, соответствует одному из приведенных выше требований ГОСТа по характеристикам изображения лица и фотографии. Результаты проверки отображаются в виде текстовых сообщений"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-12pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="9pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~4}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Программно-аппаратный комплекс в сборе"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
        </command>
        <command value="\end">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="center"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-4pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <text value="в специальном окне. Кроме этого, для каждой обработанной фотографии программа сохраняет результаты всех проверок, выполненных в процессе обработки."/>
      </section>
      <section id="id6">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Примеры работы комплекса"/>
        <text value="На рис. 5 показаны примеры нескольких типовых ошибок, возникающих при получении цифровых фотографий для биометрических документов, и результаты обработки этих изображений программным обеспечением комплекса. На приведенных рисунках хорошо видны особенности графического интерфейса. При обнаружении отклонений от требований ГОСТа возле ряда"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="пиктограмм, содержащего пиктограмму, соответствующую данному отклонению от требований, появляется информирующий тревожный сигнал красного цвета, сопровождаемый звуковым сигналом."/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="При этом подсвечивается соответствующая пиктограмма и появляется текстовая надпись в информационном окне с указанием ошибки и ее фактического значения (если это возможно). В случае"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="выявления артефактов, неоднозначно трактуемых или нежелательных, но не запрещенных ГОСТом, выводится предупредительная визуальная сигнализация на изображении лица и делается соответствующая запись в информационном окне."/>
      </section>
      <section id="id7">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Методика оценки точности определения пространственной ориентации головы"/>
        <text value="Вообще говоря, построение связанной трехмерной системы координат на основании двухмерного"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-12pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\pagebreak"/>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="6pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~5}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Несоответствие требованиям: закрытые глаза ("/>
            </braces>
          </braces>
        </command>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="а"/>
        </command>
        <text value="); поворот головы ("/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="б"/>
        </command>
        <text value="); наклон головы ("/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="в"/>
        </command>
        <text value=")"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\columnbreak"/>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <text value="изображения лица является некорректной обратной задачей. Поэтому в системах подготовки и контроля цифровых фотографий для биометрических документов для определения углов поворота относительно пространственных осей используются косвенные методы оценки углов поворота головы по изменению пропорций лица, как показано на рис. 5,"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="б"/>
        </command>
        <text value="и"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="в"/>
        </command>
        <text value=". Вследствие этого важной проблемой является анализ точности определения углов поворота лица, основанного на косвенных методах измерений, и выбор наиболее надежно работающих косвенных методов оценки углов поворота. Координатная система, рекомендованная в стандарте, представлена на рис. 6. Здесь$XYZ$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="правая система координат с центром в точке, соответствующей кончику носа на изображении лица. Углы поворотов определяются относительно неподвижной системы координат$XYZ$, соответствующей полнофронтальному изображения лица с углами поворота (0, 0, 0). При этом точного"/>
        <text value="определения фронтального лица в ГОСТе не приводится. Для определения истинных углов поворота изображения необходимо ввести две системы координат: связанную с головой и опорную. Связанная с головой система координат"/>
        <formula id="id8" value="$XsYsZs$"/>
        <text value="определяется двумя ортогональными плоскостями: франкфуртской (или глазнично-ушной) горизон"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="плоскостью"/>
        <formula id="id9" value="$XsZs$"/>
        <text value=", проходящей через верхние края отверстий наружного слухового прохода и нижнюю точку нижнего края левой орбиты, и плоскостью"/>
        <formula id="id10" value="$YsZs$"/>
        <text value=", перпендикулярной плоскости"/>
        <formula id="id11" value="$XsZs$"/>
        <text value="и проходящей через ось симметрии лица (центр переносицы, центр губ). Ось$Zs$совпадает с линией пересечения плоскостей и направлена от поверхности лица. Опорная система координат$XYZ$"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~6}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Система координат для определения углов поворота лица"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
        </command>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\pagebreak"/>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <text value="определяет виртуальную камеру, формирующую двумерное изображение, и представляется следующим образом: ось$Y$параллельна вертикальной оси плоскости изображения, ось$X$параллельна горизонтальной оси плоскости изображения, ось$Z$дополняет до правой системы координат и направлена от модели лица, центр расположен в середине двумерного изображения. Изображение считается фронтальным, когда оси опорной и связанной систем координат коллинеарны. Для оценки точности определения углов поворота изображения лица была предложена методика, основанная на использовании трехмерных моделей лиц, получаемых путем трехмерного сканирования. Первым шагом в оценке точности является получение трехмерной модели лица человека со строго вертикальным расположением головы. Эта модель считается базовой, и к ней привязывается опорная система координат. На следующих этапах исследования модель поворачивается вокруг осей опорной системы координат на заданные углы и с нее строится проекция на фокальную плоскость. Эта проекция и считается изображением повернутого лица, по которому осуществляются оценки углов поворота изображения. На рис. 7 и 8 показаны трехмерные модели и соответствующие им синтетические изображения фронтального и повернутого лица, созданные по предлагаемой методике."/>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~7}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Трехмерная модель и синтетическое изображение фронтального лица"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
        </command>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~8}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Трехмерная модель и синтетическое изображение искусственно развернутого лица"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
        </command>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Для получения трехмерной модели лица используется специализированный комплекс бесконтактных измерений, построенный на фотограмметрических принципах, позволяющих рассчитать"/>
          </braces>
        </command>
        <command value="\mbox">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="координаты"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="заданной точки объекта по двум разноракурсным изображениям объекта, наблюдаемого стереосистемой видеокамер. Для применения в задачах антропометрии система бесконтактных измерений должна удовлетворять ряду специфических требований, таких как безопасность и комфортность для объекта съемки (человека) и высокая скорость съемки, необходимая для устранения ошибок, вызванных невозможностью долгого сохранения неподвижности человеком. Кроме того, система бесконтактных антропометрических измерений должна измерять координаты поверхности с высоким разрешением и представлять их в форме компьютерной трехмерной модели (предпочтительно текстурированной) для последующего анализа. Изображение специализированного комплекса бесконтактных измерений приведено на рис. 9."/>
          </braces>
        </command>
        <center/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="2pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{\figurename~9}"/>
            </braces>
          </braces>
        </command>
        <command value="\small">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Специализированный комплекс бесконтактных измерений"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
        </command>
        <command value="\bigskip"/>
        <command value="\addtocounter">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="figure"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Система бесконтактных измерений включает:"/>
          </braces>
        </command>
        <itemize/>
        <text value="Предварительным этапом работы с фотограмметрическим комплексом бесконтактных измерений является калибровка"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="4kor, 5kor"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", т."/>
          </braces>
        </command>
        <text value="е."/>
        <text value="оценка параметров модели камер, учитывающих нелинейные"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="искажения, возникающие при формировании изображений камерой. Калибровка системы позволяет обеспечить высокую точность измерений трехмерных координат объекта. Внешнее ориентирование системы выполняется для оценки положения и ориентации камер в системе координат, задаваемой специальным тестовым объектом. В результате процедуры ориентирования, выполняемой по снимкам тестового сюжета, определяются координаты и углы поворота камер в заданной системе координат. В дальнейшем координаты точек поверхности объекта рассчитываются в системе координат, заданной ориентированием системы. Для расчета трехмерных координат поверхности объекта и построения его трехмерной модели необходимо для каждой видимой точки объекта найти ее координаты на левом и правом изображениях (решить задачу стереоотождествления точек левого и правого изображений). Тогда с использованием результатов ориентирования стереосистемы (положения камер) рассчитываются трехмерные координаты точки. Для автоматизированного решения задачи стереоотождествления соответственных точек изображения с левой и правой камер в системе применяется оригинальный кодированный подсвет объекта, минимизирующий число кадров, использующихся для расчета трехмерных координат поверхности объекта, при сохранении высокой плотности измерений. Основные технические характеристики системы:"/>
        <itemize/>
        <text value="Система выполняет следующие функции:"/>
        <itemize/>
        <text value="Для расчета трехмерных координат поверхности"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="используются последовательности снимков с черно-белых камер, а в качестве текстуры служит цветной снимок высокого разрешения, получаемый с цифрового фотоаппарата. Текстурирование трехмерной модели выполняется автоматически на основе данных ориентирования цифрового фотоаппарата. С помощью описанной методики непосредственных трехмерных измерений были получены оценки точности косвенного оценивания параметров трехмерного позиционирования головы человека по монокулярному изображению, осуществляемого в описанной выше системе контроля качества изображений для персональных документов. Полученные оценки точности составляют около 1"/>
        <formula id="id12" value="$^\circ$"/>
        <text value="для углов поворота относительно осей$Z$и$Y$и около 5"/>
        <formula id="id13" value="$^\circ$"/>
        <text value="для поворотов относительно оси$X$. Худшая оценка точности при определении угла поворота относительно оси$X$связана с высокой вариабельностью вертикальных пропорций лица у разных людей."/>
      </section>
      <section id="id14">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Заключение"/>
        <text value="В статье представлен программно-аппаратный комплекс, предназначенный для автоматизации процесса получения цифровых фотографий, удовлетворяющих основным требованиям и рекомендациям ГОСТ ИСО/МЭК 19794-5-2006. Комплекс обеспечивает получение как фронтальных, так и условно-фронтальных цифровых фотографий лица, а также оценку в реальном времени основных характеристик изображения и параметров лица, подготовку изображений к печати с заданными размерами и разрешением, формирование изображений в биометрическом формате обмена данными, сохранение изображений в различных графических форматах. Проведено исследование точности используемых алгоритмов косвенной оценки углов поворота лица относительно пространственных осей по монокулярному цифровому изображению. Для этого разработана специальная методика, основанная на использовании синтезированных ракурсных изображений реальных лиц, реконструированных по результатам трехмерного сканирования. Разработано алгоритмическое и программное обеспечение для моделирования и измерений, собран специализированный комплекс для бесконтактного трехмерного сканирования лиц. С использованием данного комплекса получены трехмерные модели и фотореалистические текстуры тестовых лиц. Полученная в результате оценки точность измерений составляет в среднем около 1"/>
        <formula id="id15" value="$^\circ$"/>
        <text value="для углов поворота относительно осей$Z$и$Y$и около 5"/>
        <formula id="id16" value="$^\circ$"/>
        <text value="для поворотов относительно оси$X$. Более низкая оценка точности при определении угла поворота относительно оси$X$связана с высокой вариабельностью вертикальных пропорций лица у разных людей."/>
        <braces>
          <text value="{}"/>
          <command value="\small"/>
          <command value="\frenchspacing">
            <braces>
              <braces>
                <text value="{}"/>
              </braces>
            </braces>
          </command>
        </braces>
        <command value="\addcontentsline">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="toc"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="section"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Литература"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\begin">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="9"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <item id="id17" value="\bibitem">
          <braces>
            <text value="\bibitem{1kor}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Freund Y., Schapire R."/>
        <text value="A short introduction to boosting // J. of Japanese Society for Artificial Intelligence, 1999. Vol. 14. No."/>
        <text value="5. P. 771--780."/>
        <item id="id18" value="\bibitem">
          <braces>
            <text value="\bibitem{2kor}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Viola P., Jones M."/>
        <text value="Robust real time object detection // IEEE ICCV Workshop Statistical and Computational Theories of Vision, July 2001."/>
        <item id="id19" value="\bibitem">
          <braces>
            <text value="\bibitem{3kor}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Бекетова И."/>
        <text value="В., Каратеев С."/>
        <text value="Л., Визильтер Ю."/>
        <text value="В., Бондаренко А."/>
        <text value="В., Желтов С."/>
        <text value="Ю."/>
        <text value="Автоматическое обнаружение лиц на цифровых изображениях на основе метода адаптивной классификации AdaBoost // Вестник компьютерных и информационных технологий, 2007. №"/>
        <text value="8. С. 2--6."/>
        <command value="\label">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="end"/>
              <command value="\stat">
                <braces/>
              </command>
            </braces>
          </braces>
        </command>
        <item id="id20" value="\bibitem">
          <braces>
            <text value="\bibitem{6kor}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Albiol A., Torres L., Delp E."/>
        <text value="J."/>
        <text value="Optimum color spaces for skin detection // Conference (International) on Image Processing Proceedings, 2001. Vol. 1. P. 122--124."/>
        <item id="id21" value="\bibitem">
          <braces>
            <text value="\bibitem{4kor}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Schenk T."/>
        <text value="F."/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="TerraScience, 1999."/>
        <item id="id22" value="\bibitem">
          <braces>
            <text value="\bibitem{5kor}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Luhmann T., Robson S., Kyle S., Harley I."/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="Whittles, 2006. 510 p."/>
        <command value="\end">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="thebibliography"/>
            </braces>
          </braces>
          <braces/>
          <braces/>
          <braces/>
        </command>
        <command value="\end">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="multicols"/>
            </braces>
          </braces>
          <braces/>
        </command>
      </section>
    </fulltext>
  </paper>
</papers>