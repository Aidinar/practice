<?xml version="1.0" encoding="utf-8"?>
<papers>
  <paper>
    <metadata>
      <annotation value="\Abst{В статье предлагается концепция упрощенных интегрированных коммуникационных мик ро контроллеров (ИКМ), которые могли бы найти применение в различных отечественных устройствах пакетной коммутации и маршрутизации, расширяя их функциональные возможности и упрощая разработку.}"/>
      <keywords>
        <braces>
          <text value="\KW{интегрированный коммуникационный микроконтроллер; PowerQUICC; децентрализованная коммутация; маршрутизирующий коммутатор}"/>
        </braces>
      </keywords>
    </metadata>
    <fulltext>
      <literature/>
      <text value="egorov"/>
      <text value="КОНЦЕПЦИЯ СОЗДАНИЯ ОТЕЧЕСТВЕННЫХ ИНТЕГРИРОВАННЫХ КОММУНИКАЦИОННЫХ МИКРОКОНТРОЛЛЕРОВ ДЛЯ ПАКЕТНОЙ КОММУТАЦИИ"/>
      <text value="Концепция создания отечественных ИКМ для пакетной коммутации"/>
      <text value="В."/>
      <text value="Б. Егоров"/>
      <text value="В."/>
      <text value="Б. Егоров$^1$"/>
      <command value="\titel">
        <braces>
          <braces>
            <text value="{}"/>
            <command value="\tit">
              <braces/>
              <braces>
                <braces>
                  <text value="{}"/>
                  <command value="\aut">
                    <braces/>
                    <braces>
                      <braces>
                        <text value="{}"/>
                        <command value="\autkol">
                          <braces/>
                          <braces>
                            <braces>
                              <text value="{}"/>
                              <command value="\titkol">
                                <braces/>
                              </command>
                            </braces>
                          </braces>
                        </command>
                      </braces>
                    </braces>
                  </command>
                </braces>
              </braces>
            </command>
          </braces>
        </braces>
      </command>
      <command value="\renewcommand">
        <braces>
          <braces>
            <text value="{}"/>
            <command value="\thefootnote">
              <braces/>
              <braces>
                <braces>
                  <text value="{}"/>
                  <command value="\arabic">
                    <braces>
                      <braces>
                        <text value="{}"/>
                        <text value="footnote"/>
                      </braces>
                    </braces>
                    <braces/>
                    <braces/>
                  </command>
                </braces>
              </braces>
            </command>
          </braces>
        </braces>
      </command>
      <command value="\footnotetext">
        <braces>
          <text value="\footnotetext[1]{}"/>
        </braces>
      </command>
      <text value="Институт проблем информатики Российской академии наук, vegorov@ipiran.ru"/>
      <command value="\vspace*">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="12pt"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\vskip">
        <braces>
          <text value="24pt plus 9pt minus 6pt"/>
        </braces>
      </command>
      <command value="\thispagestyle">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="headings"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\begin">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="2"/>
          </braces>
        </braces>
        <braces/>
      </command>
      <command value="\label">
        <braces>
          <braces>
            <text value="{}"/>
            <text value="st"/>
            <command value="\stat">
              <braces/>
            </command>
          </braces>
        </braces>
      </command>
      <section id="id1">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Современные интегрированные коммуникационные микроконтроллеры"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="один из наиболее динамично развивающихся секторов рынка коммуникационной микроэлектроники"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="4e, 5e"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="компания"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Motorola"/>
        </command>
        <text value="и ее преемница"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale Semiconductor"/>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="уже выпустили на рынок шесть поколений ИКМ, а общее число предлагаемых модификаций таких приборов перевалило за сотню"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="10e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=". Популярность ИКМ объясняется как высокой степенью интеграции электронных компонентов, так и удачной интеграцией функций, в совокупности обеспечивающими ИКМ уникальные свойства и эффективное применение в самых разнообразных приложениях, связанных с телекоммуникацией вообще и коммутацией в частности, причем как каналов, так и пакетов. Типичный ИКМ компании"/>
          </braces>
        </command>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale"/>
        </command>
        <text value="представляет собой &amp;lt;&amp;lt;систему на кристалле&amp;gt;&amp;gt;, объединяющую в единое целое современный мощный универсальный микроконтроллер с различными"/>
        <text value="сопроцессорами и коммуникационными модулями (рис."/>
        <command value="\ref">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="f1e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=")."/>
          </braces>
          <braces>
            <braces>
              <text value="{}"/>
              <command value="\looseness">
                <braces>
                  <text value="=1"/>
                </braces>
                <braces/>
              </command>
            </braces>
          </braces>
        </command>
        <figure id="id2" value="Token(TokenType.COMMAND&amp;quot;, &amp;quot;\begin{figure*}&#10;\vspace*{1pt}&#10;\begin{center}&#10;\mbox{%&#10;\epsfxsize=164.253mm&#10;\epsfbox{ego-1.eps}&#10;}&#10;\end}&#10;\vspace*{-9pt}&#10;\Caption{Обобщенная структура ИКМ&#10;\label{f1e}}&#10;\end{figure*}&amp;quot;, line=67, col=16)">
          <text value="Микроконтроллерная часть ИКМ включает в себя свободно программируемое процессорное ядро и модуль системной интеграции. Программируемое ядро, на котором выполняются пользовательские программы, представляет собой мощный универсальный процессор с архитектурой PowerPC. Ядра комплектуются диспетчером памяти, раздельными кэшами инструкций и данных, дополняемыми в некоторых моделях"/>
          <text value="кэшем второго уровня и процессором плавающей запятой. Процессорные ядра самых производительных ИКМ способны работать на частотах до полутора гигагерц, обеспечивая производительность до трех с половиной миллиардов инструкций в секунду по эталонному тесту Dhrystone (DMIPS). Модуль системной интеграции объединяет разнообразные средства организации системы: контроллеры различных памятей, включая DDR SDRAM (double data rate synchronous dynamic"/>
          <command value="\mbox">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="random"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="access memory) и NAND-flash; адаптеры внешних системных шин, в частности шины PCI (peripheral component interconnect), и стандартных последовательных интерфейсов ввода-вывода I$^2$C (inter integrated circuits) и SPI (serial peripheral interface); контроллеры современных высокоскоростных последовательных интерфейсов PCIe (PCI express), SRIO (serial RapidIO) и SATA (serial advanced technology attachment). Большинство ИКМ имеет встроенный сопроцессор безопасности, выполняющий шифрование пользовательских данных &amp;lt;&amp;lt;на лету&amp;gt;&amp;gt; по всем основным принятым в мировой практике стандартам. Некоторые модели дополнительно комплектуются сопроцессорами, упрощающими анализ контекста заголовков пакетов и/или табличный поиск, в частности с использованием хеширования адресов. Однако основной изюминкой ИКМ являются встроенные коммуникационные модули двух видов: универсальные и специализированные. Универсальный коммуникационный модуль, как"/>
            </braces>
          </command>
          <text value="правило, единственный в ИКМ, обслуживает несколько программно конфигурируемых среднескоростных коммуникационных интерфейсов и поддерживает целый ряд соответствующих им"/>
          <text value="широко распространенных в мире коммуникационных протоколов канального уровня благодаря тому, что включает отдельный RISC-процессор со своим встроенным фирменным программным обеспечением (ФПО). Специализированные коммуникационные модули обслуживают один--два однотипных высокоскоростных интерфейса и тоже могут содержать процессоры и ФПО. Так как ИКМ долгое время отслеживали эволюцию телекоммуникационных технологий, все историческое многообразие интерфейсов и протоколов нашло в них отражение различными типами коммуникационных модулей и широким ассортиментом конфигурируемых интерфейсов универсальных модулей. На разных этапах развития в номенклатуру поддерживаемых ИКМ коммуникационных интерфейсов и протоколов вошли:"/>
          <itemize/>
          <text value="Обогащение номенклатуры интерфейсов и"/>
          <text value="протоколов в ИКМ параллельно сопровождалось расширением перечня коммуникационных технологий, поддерживаемых аппаратурой и ФПО коммуникационных модулей. В результате современные ИКМ находят применение и в сетях цифровой телефонии, в частности ISDN, и в пакетных сетях Token ring, X.25, Frame relay, ATM, Ethernet, Packet over SONET (synchronous optical networking) и других. Для ИКМ характерны универсальность и &amp;lt;&amp;lt;дружелюбие&amp;gt;&amp;gt; к пользователю. Непросто найти область телекоммуникации и пакетной коммутации, где ИКМ оказался бы не к месту. Для любого не слишком экзотического приложения найдутся приборы с соответствующими внешними интерфейсами и"/>
          <text value="поддержкой требуемых коммуникационных протоколов, которые в совокупности с исчерпывающими возможностями универсального микроконтроллера действительно оказываются эффективной"/>
          <text value="законченной телекоммуникационной &amp;lt;&amp;lt;системой на кристалле&amp;gt;&amp;gt;, позволяющей решать самые разные по характеру и сложности задачи исключительно внутренними ресурсами одного единственного прибора, а следовательно, предельно быст"/>
          <command value="\specialsymbol">
            <braces>
              <text value="~---"/>
            </braces>
          </command>
          <text value="его сложность. В ИКМ заложен целый ряд технических решений, представляющих собой интеллектуальную собственность компании"/>
          <command value="\textit">
            <braces>
              <text value="\textit{}"/>
            </braces>
            <text value="Freescale"/>
          </command>
          <text value="самой высокой пробы в различных областях электроники, вычислительной техники и телекоммуникации. Ее главные составляющие"/>
          <command value="\cite">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="8e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=":"/>
            </braces>
          </command>
          <itemize/>
        </figure>
      </section>
      <section id="id3">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Концепции пакетных коммутаторов на основе интегрированных коммутационных микроконтроллеров"/>
        <text value="С учетом имеющейся на мировом рынке номенклатуры ИКМ и опыта их применения"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="3e, 6e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="можно выделить три концептуальных подхода к созданию устройств пакетной коммутации и маршрутизации на основе некоего обобщенного ИКМ"/>
          </braces>
        </command>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="1e, 2e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=":"/>
          </braces>
        </command>
        <enumerate/>
        <text value="Ярким примером высокопроизводительной &amp;lt;&amp;lt;системы на кристалле&amp;gt;&amp;gt; является ИКМ MPC8568E компании"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale"/>
        </command>
        <text value=""/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="11e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=". В рамках общей структуры, показанной на рис."/>
          </braces>
        </command>
        <command value="\ref">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="f1e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", он включает универсальный микроконтроллер, сопроцессоры безопасности и табличного поиска, а также три коммуникационных модуля. Микроконтроллер содержит свободно программируемое ядро с рабочей частотой до 1,33 ГГц, 64-разрядный интерфейс памяти DDR2 SDRAM с частотой до 533 МГц, 32-разрядную параллельную локальную шину и 32-разрядный интерфейс PCI, работающий в режимах host и agent на частоте до 66 МГц, а также последовательные интерфейсы PCIe, SRIO, два I$^2$C и два UART. Универсальный коммуникационный модуль MPC8568E с двумя RISC-процессорами и мощным ФПО обслуживает 8 одинаковых коммуникационных портов, 8 портов ISDN и два порта SPI. Универсальные порты поддерживают технологии ISDN, X.25, Frame relay, ATM, Ethernet и другие. В режиме ATM максимальная скорость передачи данных через два 16-разряд"/>
          </braces>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="на скорости 1 Гбит/с. Фирменное программное обеспечение модуля поддерживает все современные телекоммуникационные технологии и обеспечивает эффективное взаимодействие между ними. Благодаря этому универсальный коммуникационный модуль реализует исключительно внутренними ресурсами восьмипортовый коммутатор L2 и обеспечивает инкапсуляцию трафика Ethernet в трафик ATM."/>
        <braces>
          <text value="{}"/>
          <command value="\looseness">
            <braces>
              <text value="=-1"/>
            </braces>
            <braces/>
            <braces>
              <text value="Помимо универсального коммуникационного модуля в ИКМ MPC8568E входят два одинаковых специализированных &amp;lt;&amp;lt;интеллектуальных&amp;gt;&amp;gt; коммуникационных модуля трехскоростного (10, 100"/>
            </braces>
          </command>
        </braces>
        <text value="и 1000 Мбит/с) Ethernet с аппаратной поддержкой протокола IP, что дает возможность прикладному программному обеспечению эффективно"/>
        <text value="реализовывать функции коммутатора L3, граничного маршрутизатора и устройства сетевой безопасности. В целом ИКМ MPC8568E позволяет создать с минимальной дополнительной аппаратурой (необходимые внешние памяти и трансиверы Ethernet) законченный централизованный пакетный коммутатор максимально с 10 внешними портами (из них до пяти гигабитных), который также может работать в качестве граничного маршрутизатора и устройства безопасности региональных и глобальных сетей, в том числе сетей Metro Ethernet и MPLS (multiple protocol label switching)"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="4e, 5e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=". Этот подход весьма привлекателен"/>
          </braces>
        </command>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="8e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", но здесь он не обсуждается, поскольку, к сожалению, появление в обозримом будущем отечественного ИКМ, подобного MPC8568E, нереально"/>
          </braces>
        </command>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="7e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=". Далее внимание уделено альтернативным подходам к созданию устройств пакетных коммутаторов и маршрутизаторов, а именно основанным на децентрализованной архитектуре пакетной коммутации"/>
          </braces>
        </command>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="9e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="с использованием более простых ИКМ."/>
          </braces>
        </command>
        <figure id="id4" value="Token(TokenType.COMMAND&amp;quot;, &amp;quot;\begin{figure*}&#10;\vspace*{1pt}&#10;\begin{center}&#10;\mbox{%&#10;\epsfxsize=129.293mm&#10;\epsfbox{ego-2.eps}&#10;}&#10;\end}&#10;\vspace*{-9pt}\Caption{Гомогенный коммутатор с узлами на основе ИКМ&#10;\label{f2e}}&#10;\end{figure*}&amp;quot;, line=236, col=16)">
          <text value="Первой альтернативой является децентрализованная коммутация в гомогенной &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети из множества тесно связанных одинаковых малопортовых ИКМ средней производительности, оснащенных небольшим числом коммуникационных портов. Примерами таких ИКМ"/>
          <text value="могут служить приборы"/>
          <command value="\textit">
            <braces>
              <text value="\textit{}"/>
            </braces>
            <text value="Freescale"/>
          </command>
          <text value="MPC8542 (2 коммуникационных порта трехскоростного Ethernet) и MPC8548 (4 порта Ethernet)"/>
          <command value="\cite">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="12e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=", снабженные также адаптерами интерфейсов SRIO и PCIe. На рис."/>
            </braces>
          </command>
          <command value="\ref">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="f2e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="показана примерная организация гомогенного децентрализованного коммутатора на базе"/>
            </braces>
          </command>
          <command value="\mbox">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="неких"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="малопортовых ИКМ средней производительности, функционально близких, например, к прибору MPC8542. В гомогенном коммутаторе &amp;lt;&amp;lt;сверхлокальная&amp;gt;&amp;gt; сеть реализуется на высокоскоростном интерфейсе, рассчитанном на объединение множества ИКМ в пределах одной платы или одного шасси и допускающем скорости передачи данных, не уступающие суммарной скорости передачи на внешних портах одного ИКМ. Этим условиям в полной мере отвечает интерфейс SRIO, скорость передачи данных на котором может достигать 10 Гбит/с. Принципиально важно, что спецификация SRIO включает механизм инкапсуляции чужих протоколов для потокового транзита инкапсулированных блоков данных через коммутационные структуры с учетом их приоритетов и классов обслуживания, причем с минимальными накладными расходами инкапсуляции и задержками транзита"/>
            </braces>
          </command>
          <command value="\cite">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="13e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=". Данная концепция предполагает децентрализованную коммутацию, при которой решение о продвижении каждого входящего в коммутатор пакета принимает тот узел &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети, в нашем случае ИКМ, в который входит этот пакет. Система гомогенна в том смысле, что все узлы распределенного коммутатора одинаковы и равноправны. Оценочно, на основании опыта компании"/>
            </braces>
          </command>
          <command value="\textit">
            <braces>
              <text value="\textit{}"/>
            </braces>
            <text value="Freescale"/>
          </command>
          <text value=", для собственно продвижения принятых пакетов с выполнением сопутствующих действий по их фильтрации и квалификации, а также других функций вплоть до распределенной маршрутизации требуется производительность свободно программируемого ядра ИКМ не ниже 1000 DMIPS. Коммутация пакетов в реальном времени может быть обеспечена таким ядром вплоть до суммарно гигабитной скорости передачи данных на внешних коммуникационных портах. В свою очередь, при тех же условиях пропускная способность интерфейса SRIO достаточна не только для доставки скоммутированных пакетов из входного узла &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети в выходной, но и для обмена маршрутной и служебной информацией между ИКМ. Концепция реализуется всего двумя базовыми элементами: ИКМ средней производительности в качестве узлов &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети и одним коммутатором, реализующим коммутационную структуру. Требования к ИКМ такого рода подробно обсуждаются ниже. Что же касается коммутатора, то, например, коммутаторы SRIO выпускаются несколькими западными фирмами, например компаниями"/>
          <command value="\textit">
            <braces>
              <text value="\textit{}"/>
            </braces>
            <text value="IDT"/>
          </command>
          <text value="и"/>
          <command value="\textit">
            <braces>
              <text value="\textit{}"/>
            </braces>
            <text value="Tundra Semiconductor"/>
          </command>
          <text value=""/>
          <command value="\cite">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="14e, 15e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=". Однако типичный коммутатор для интерфейса SRIO или ему подобного, функционально достаточный для реализации концепции &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети, может быть реализован на программируемых логических интегральных схемах (ПЛИС) умеренной сложности или, в перспективе, в виде отечественной заказной СБИС (сверхбольшой интегральной схемы). Другая альтернатива коммутации внутри &amp;lt;&amp;lt;систе"/>
            </braces>
          </command>
          <command value="\specialsymbol">
            <braces>
              <text value="~---"/>
            </braces>
          </command>
          <text value="концепция централизованной коммутации в гетерогенном распределенном коммутаторе с общей буферной памятью. Она"/>
          <text value="также базируется на &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети и предполагает в коммуникационных узлах коммутатора множество ИКМ, но более простых, в пределе однопортовых и относительно небольшой"/>
          <text value="производительности. Суть этой концепции поясняет рис."/>
          <command value="\ref">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="f3e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="."/>
            </braces>
            <braces>
              <braces>
                <text value="{}"/>
                <command value="\looseness">
                  <braces>
                    <text value="=1"/>
                  </braces>
                  <braces/>
                </command>
              </braces>
            </braces>
          </command>
          <figure id="id5" value="Token(TokenType.COMMAND&amp;quot;, &amp;quot;\begin{figure*}&#10;\vspace*{1pt}&#10;\begin{center}&#10;\mbox{%&#10;\epsfxsize=166.336mm&#10;\epsfbox{ego-3.eps}&#10;}&#10;\end}&#10;\vspace*{-9pt}&#10;\Caption{Гетерогенный коммутатор с общей буферной памятью&#10;\label{f3e}}&#10;\vspace*{6pt}&#10;\end{figure*}&amp;quot;, line=309, col=16)">
            <text value="Гетерогенный коммутатор предполагает общую для всего коммутатора буферную память, множество коммуникационных узлов, обеспечивающих коммуникационные порты, и выделенные узлы для выполнения коммутации, маршрутизации и управления коммутатором, причем все узлы также"/>
            <text value="объединяются некой &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt;"/>
            <command value="\mbox">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="сетью"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value=". Коммуникационные узлы, непосредственно участву"/>
              </braces>
            </command>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <text value="реализуются на относительно простых ИКМ (на рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f3e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value="ИКМ/DP"/>
              </braces>
            </command>
            <formula id="id6" value="$_{1\ldots &#10;N}$"/>
            <text value=") с"/>
            <text value="процессорным ядром умеренной производительности 300"/>
            <formula id="id7" value="$\ldots$"/>
            <text value="500 DMIPS. Все решения по коммутации и маршрутизации, а также общему управлению коммутатором, т."/>
            <text value="е."/>
            <text value="функции control plane, принимаются выделенными ИКМ повышенной производительности (на рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f3e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value="ИКМ/CP"/>
              </braces>
            </command>
            <formula id="id8" value="$_{1\ldots K}$"/>
            <text value="). Принципиально новым элементом архитектуры коммутатора является общая буферная память, например типа QDR SRAM (quadruple data rate static random access memory), со своим контроллером, который подключается к коммутационной структуре звеном интерфейса &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети с высокой пропускной способностью. В частности, в случае интерфейсов SRIO и/или PCIe должны быть использованы варианты звеньев максимальной &amp;lt;&amp;lt;ширины&amp;gt;&amp;gt; и наибольших скоростей передачи данных. Контроллер общей буферной памяти может быть реализован на ПЛИС средней сложности, предоставляющей возможность подключения современных синхронных памятей. В частном, но, как будет показано ниже, важном случае контроллер памяти может быть совмещен с коммутационной структурой в виде некоторого коммутаторного ядра (на рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f3e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value="оно обведено штрих-пунктиром), для реализации которого, разумеется, потребуется ПЛИС большей сложности."/>
              </braces>
            </command>
          </figure>
        </figure>
      </section>
      <section id="id9">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Современные тенденции в области пакетной коммутации"/>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-9pt"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Во второй половине прошлого века телекоммуникация в высоком темпе преодолела несколько знаковых рубежей. Сначала переход от аналоговой технологии связи к цифровой увенчался объединением различных услуг, таких как телефон, факс и передача данных между компьютерами, в единой цифровой сети интегрированных сервисов"/>
          </braces>
        </command>
        <command value="\mbox">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="ISDN"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", основанной на идее временн"/>
          </braces>
        </command>
        <formula id="id10" value="$\acute{\mbox{о}}$"/>
        <text value="го разделения традиционных телефонных каналов связи между несколькими соединениями. Однако распространение технологии ISDN на высокоскоростные каналы связи, вылившееся в сложные синхронные и плезиохронные иерархии цифровых каналов, не успев толком завершиться, показало свою относительную неэффективность вследствие плохого использования дорогих широкополосных линий связи. Осознание этого принципиального недостатка технологии коммутации каналов стимулировало в телекоммуникации решительный переход к технологиям коммутации пакетов. Пакетные сети первых поколений, изначально ориентированные только на передачу данных между компьютерами, отличались широким многообразием. В области локальных сетей конкурировало множество технологий, постепенно полностью вытесненных, однако, технологией Ethernet. Несколько меньшее исходное разнообразие региональных пакетных сетей, реализуемых на традиционных телефонных каналах, также постепенно свелось к одной доминирующей технологии X.25. Однако"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <command value="\vspace*">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="-12pt"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\pagebreak"/>
        <command value="\noindent">
          <braces>
            <text value="\noindent"/>
          </braces>
        </command>
        <text value="идея интеграции услуг, уже успешно опробованная в"/>
        <text value="сетях ISDN, плохо ложилась на пакетные сети X.25 из-за ненадежности каналов связи и низких скоростей передачи данных в них. Поэтому с внедрением в региональные и глобальные сети более"/>
        <text value="быстродействующих и надежных каналов, в частности"/>
        <text value="оптоволоконных, появились и более гибкие телекоммуникационные технологии, адекватные требованиям интеграции услуг. Отличительной особенностью новых пакетных технологий стала"/>
        <text value="возможность организации виртуальных соединений, аналогичных аналоговым, т."/>
        <text value="е., по существу, наложения на пакетные сети виртуальных сетей с коммутацией каналов. В таких сетях передача компьютерных данных могла по-прежнему выполняться традиционными методами, в частности дейтаграммами с динамической маршрутизацией, но для критических сервисов строились прямые виртуальные тракты &amp;lt;&amp;lt;точка--точка&amp;gt;&amp;gt; от одного конечного абонента к другому и резервировались требуемые полосы пропускания во всех звеньях этих трактов. Первая такого рода гибридная технология Frame relay, поддерживающая организацию как постоянных, так и коммутируемых виртуальных соединений, наглядно продемонстрировала правильность подхода к пакетным сетям и эффективно решила проблему передачи, в частности, человеческой речи. Затем для передачи через пакетные сети в реальном времени изображения, &amp;lt;&amp;lt;живой&amp;gt;&amp;gt; телевизионной картинки, потребовались не только линии связи с более широкой полосой пропускания, но и новые более гибкие коммуникационные технологии, обеспечивающие доставку последовательности пакетов изображения получателю в нужном порядке и с постоянным ритмом. Основной в этом классе стала технология ATM. Еще совсем недавно успешное решение с ее помощью практических проблем организации разнородных трафиков в пакетных сетях регионального масштаба позволило экспертам предсказывать всеобщую &amp;lt;&amp;lt;АТМизацию&amp;gt;&amp;gt; глобальных пакетных сетей, несмотря на сложности реализации и дороговизну этой технологии. Однако жизнь нашла другое решение и заставила переоценить ценности под влиянием трех мощных факторов технического прогресса:"/>
        <enumerate/>
        <text value="Персональные компьютеры и локальные сети превратили технологию Ethernet, по первоначальным прогнозам самую дорогую из конкурировавших, в самую дешевую и массово доступную на практике технологию физического и канального уровней. Прогресс в технике передачи данных позволил в исторически короткие сроки создать целую гамму стандартов Ethernet, покрывших диапазон скоростей передачи данных от 10 Мбит/с до 10 Гбит/с и позволивших вывести Ethernet из области сугубо локальной на региональный и даже глобальный уровень. С другой стороны, популярность Интернета сделала его стандарты сетевого и транспортного уровня, &amp;lt;&amp;lt;стек&amp;gt;&amp;gt; TCP/IP (transport control protocol"/>
        <text value="/"/>
        <text value="Internet protocol), абсолютно доминирующими в мире. В результате сегодня связка Ethernet"/>
        <text value="+"/>
        <text value="IP становится превалирующей в пакетных сетях любого масштаба, от локальных до глобальных, практически лишая шансов все конкурирующие технологии. Однако отказ от технологий, ориентированных на виртуальные соединения &amp;lt;&amp;lt;точка--точка&amp;gt;&amp;gt;, таких как Frame relay и ATM, потребовал для поддержки критических трафиков существенной доработки протоколов Интернета. Так, например, в протокол IP были введены понятия типа обслуживания (в версии 4) или класса трафика (в версии 6). Однако это не решило всех проблем. Для быстрого продвижения пакетов в глобальных дейтаграммных сетях через множество коммутаторов все же пришлось вернуться к идее виртуальных &amp;lt;&amp;lt;туннелей&amp;gt;&amp;gt; и добавить к связке Ethernet"/>
        <text value="+"/>
        <text value="IP еще один промежуточный уровень (уровень"/>
        <formula id="id11" value="$2^1/_2$"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="технологию MPLS, совместившую в себе простоту Frame relay и гарантированное качество обслуживания QoS (quality of"/>
        <text value="service) ATM. В результате минимально необходимый и практически достаточный комплект телекоммуникационных технологий, которые необходимо поддерживать современным пакетным"/>
        <text value="коммутаторам, свелся к триаде Ethernet, MPLS и IP. Соответственно, разработка любого нового ИКМ, особенно упрощенного и не предполагающего непременной обратной совместимости с длинным рядом предшественников, могла бы быть ориентирована только на эту триаду."/>
      </section>
      <section id="id12">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Внутренние интерфейсы &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети"/>
        <text value="Важным элементом обеих концепций &amp;lt;&amp;lt;распределенного&amp;gt;&amp;gt; коммутатора является его внутренний интерфейс &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети, характеристики которого в значительной степени определяют возможности и параметры всего коммутатора. Исходная концепция децентрализованной коммутации"/>
        <text value="основывалась на некой шине или системе параллельных шин, слотовых или блочных"/>
        <command value="\cite">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="9e"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value=", но современные скорости передачи данных смещают"/>
          </braces>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="34, 50 и 66 разрядов. Схожи у обоих интерфейсов механизмы контроля целостности передаваемых данных и подтверждения передачи пакета на звене. Но есть у этих интерфейсов и существенные различия, вытекающие из их назначения. Интерфейс PCIe предназначен, в первую очередь, для замены традиционной шины PCI, вследствие чего ориентирован на подключение быстродействующей периферии к центральному процессору и подразумевает древовидную топологию с центральным процессором в корне дерева. При этом подключение других процессоров представляет определенные сложности и возможно только через дополнительные"/>
        <text value="нестандартные и непрозрачные порты промежуточных коммутаторов. В противовес этому SRIO изначально создавался как интерфейс взаимодействия множества равноправных процессоров и допускает самые разнообразные топологические воплощения объединяющих такие процессоры"/>
        <text value="коммутационных структур. Ниже более подробно рассмотрены вытекающие из этих основополагающих различий особенности обоих интерфейсов. Безусловным преимуществом интерфейса PCIe является существенно б"/>
        <formula id="id13" value="$\acute{\mbox{о}}$"/>
        <text value="льшая максимальная пропускная способность звена. Интегральная пропускная способность обоих интерфейсов зависит от их ширины, т."/>
        <text value="е."/>
        <text value="числа задействованных дорожек, и скорости передачи данных по дорожке. В самом широком варианте с 16 дорожками (принятое обозначение"/>
        <formula id="id14" value="$\times 16$"/>
        <text value=") и на максимальной скорости 5 Гбод PCIe способен обеспечить на звене &amp;lt;&amp;lt;чистую&amp;gt;&amp;gt; пользовательскую скорость 64 Гбит/с. Интерфейс SRIO в самом широком варианте с четырьмя дорожками (принятое обозначение"/>
        <formula id="id15" value="$4\times$"/>
        <text value=") и на максимальной скорости 3,125 Гбод предоставляет пользовательскую скорость только 10 Гбит/с. Формально интерфейс PCIe, использующий общую адресную сетку для адресации памяти и подключаемых устройств ввода-вывода, может адресовать практически бесконечное число абонентов. Однако вряд ли это следует рассматривать как"/>
        <text value="преимущество, поскольку 8- или 16-разрядные идентификаторы SRIO накрывают все реальные потребности адресации конечных абонентов &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети и значительно упрощают реализацию коммутационных структур. Аналогичным образом как относительное можно оценить преимущество механизма реализации QoS на интерфейсе PCIe. Формально восемь классов трафика (traffic classes), отражаемые в восемь виртуальных каналов, и гибкая система арбитража между ними выглядят гораздо более внушительно, чем простые три уровня приоритета пакетов в SRIO. Однако эта система сложна в реализации и требует б"/>
        <formula id="id16" value="$\acute{\mbox{о}}$"/>
        <text value="льших объемов буферов, сепаратно выделяемых в конечном пользователе каждому задействованному сочетанию класса трафика и виртуального канала. В результате большинство практических реализаций интерфейса PCIe поддерживают только один-единственный класс трафика и один виртуальный канал. Между тем простая приоритетная схема SRIO, дополняемая механизмом CoS (classes of service), допускает в системе тысячи одновременных потоков и десятки тысяч виртуальных каналов для каждого конечного абонента. При этом она ориентирована на общий для пакетов любых приоритетов и потому меньший по суммарному объему буфер в конечном абоненте. Интерфейс SRIO обладает безусловным преимуществом при взаимодействии множества равноправных ИКМ между собой и в использовании ими общей памяти. Адресный доступ к общей памяти как разделяемому ресурсу поддерживается &amp;lt;&amp;lt;неделимыми&amp;gt;&amp;gt; (atomic) операциями."/>
        <command value="\begin"/>
        <command value="\small"/>
        <center/>
        <command value="\end">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="table*"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Но интерфейс SRIO помимо традиционного адресного доступа предоставляет два дополнительных гибких механизма: обмен сообщениями, исключающий насильственные вторжения в память других конечных абонентов, и инкапсуляцию сквозных потоков (streaming flows), позволяющую осуществлять эффективный транзит высокоскоростных трафиков с произвольными протоколами от одного конечного абонента к другому. Оба этих механизма задействуют процедуру SAR (segmentation and reassembly) как для потоков данных, так и длинных сообщений, что позволяет ограничить длину пакетов 256 байтами и тем самым упростить их буферирование внутри коммутационных структур. Протокол звена интерфейса SRIO настолько прост, что компонентам коммутационной структуры не нужно менять, в отличие от коммутаторов PCIe, поля в заголовках пакетов и, соответственно, пересчитывать контрольные суммы. Гораздо богаче возможности SRIO в управлении потоком: помимо схожих с интерфейсом PCIe механизмов синхронизации на звене интерфейс SRIO дополнительно включает протокольные средства управления потоком между конечными абонентами, в том числе традиционный механизм xon/xoff. Сводные характеристики обоих интерфейсов представлены в табл."/>
          </braces>
        </command>
        <command value="\ref">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="t1e"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="пропускной способности звена подключения к коммутационной структуре контроллера общей буферной памяти. Картину может изменить недавно анонсированная архитектура &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети ASI (advanced switching interconnect), представляющая собой транспортную надстройку на интерфейс PCIe. Сохраняя тем самым основные достоинства физического уровня PCIe, в первую очередь высокую потенциальную пропускную способность звена, ASI одновременно предоставляет пользователю целый ряд возможностей, ранее свойственных только логическому уровню интерфейса SRIO, в числе которых многоадресная рассылка, инкапсуляция произвольных протоколов, в том числе с механизмом SAR, туннелирование потоков инкапсулированных данных и управление коммутационными структурами. Кроме того, в гипотетических отечественных ИКМ возможно появление оригинальных высокоскоростных последовательных интерфейсов, совмещающих в себе достоинства SRIO и PCIe, что позволит им успешно конкурировать с интерфейсами уровня ASI, по крайней мере, в плане реализации рассматриваемых концепций децентрализованной коммутации. Но такие решения имеют право на жизнь, если только не иметь в виду возможность объединения в одной &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети этих гипотетических отечественных ИКМ с реально существующими и будущими приборами компании"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale"/>
        </command>
        <text value=". В любом случае рассмотрение подобных интерфейсов выходит за рамки настоящей статьи."/>
      </section>
      <section id="id17">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Упрощенные интегрированные коммутационные микроконтроллеры для пакетной коммутации"/>
        <figure id="id18" value="Token(TokenType.COMMAND&amp;quot;, &amp;quot;\begin{figure*}&#10;\vspace*{1pt}&#10;\begin{center}&#10;\mbox{%&#10;\epsfxsize=141.78mm&#10;\epsfbox{ego-4.eps}&#10;}&#10;\end}&#10;\vspace*{-9pt}&#10;\Caption{ Структура ИКМ-Б&#10;\label{f4e}}&#10;\end{figure*}&amp;quot;, line=588, col=16)">
          <command value="\specialsymbol">
            <braces>
              <text value="~---"/>
            </braces>
          </command>
          <command value="\specialsymbol">
            <braces>
              <text value="~---"/>
            </braces>
          </command>
          <text value="были, по существу, обозначены два варианта упрощенных ИКМ для децентрализованного коммутатора: большей (свыше 1000 DMIPS) и меньшей (порядка 500 DMIPS) производительности. Они различаются процессорным ядром и некоторыми системными компонентами, но должны иметь минимум два одинаковых функциональных блока: коммуникационный модуль внешнего интерфейса и модуль внутреннего интерфейса &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети. С учетом выводов предыдущих разделов в качестве первого необходимо и достаточно иметь трехскоростной (10, 100 и 1000 Мбит/с) Ethernet, а в качестве второго могут выступать интерфейсы SRIO или PCIe. Поскольку интерфейс SRIO обладает рядом существенных преимуществ перед PCIe, далее для определенности он принят в рассматриваемых упрощенных ИКМ в качестве интерфейса &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети. Возможная структура упрощенного ИКМ б"/>
          <formula id="id19" value="$\acute{\mbox{о}}$"/>
          <text value="льшей производительности на 1000 DMIPS и более (далее ИКМ-Б) приведена на рис."/>
          <command value="\ref">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="f4e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=". В целом она не противоречит традиционному подходу (см."/>
            </braces>
          </command>
          <text value="рис."/>
          <command value="\ref">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="f1e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="), но отличается существенно меньшей сложностью, сохраняя при этом достаточно высокую степень универсальности, позволяющую применять такой ИКМ в различных приложениях, в том числе в обеих рассмотренных выше концепциях: в качестве универсального узла &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети в гомогенном коммутаторе либо узлов коммутации, маршрутизации и управления гетерогенного коммутатора, т."/>
            </braces>
          </command>
          <text value="е."/>
          <text value="ИКМ/CP на рис."/>
          <command value="\ref">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="f3e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=". В качестве процессорного ядра в ИКМ-Б может быть задействован процессор любой архитектуры с суммарной производительностью не хуже 1000 DMIPS. Хорошим решением может стать процессорное ядро с открытой архитектурой ARM, например, как показано на рис."/>
            </braces>
          </command>
          <command value="\ref">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="f4e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=", Cortex-A8"/>
            </braces>
          </command>
          <command value="\cite">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="16e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value=". Лицензию и технологию производства различных ядер ARM можно приобретать, в том числе на условиях royalty free, у компании"/>
            </braces>
          </command>
          <command value="\textit">
            <braces>
              <text value="\textit{}"/>
            </braces>
            <text value="ARM"/>
          </command>
          <text value=". Обязательным элементом любого ИКМ, в том числе ИКМ-Б, должен быть модуль трехскоростного Ethernet, включающий MAC-контроллер, контроллер прямого доступа в память DMA (direct memory access) и специфический блок отделения и слияния заголовков HDAM (headers detach and merge). Внешним интерфейсом может служить любой стандартный MAC-интерфейс гигабитного Ethernet, в частности GMII (gigabit media independent interface), RGMII (reduced GMII) или, в целях экономии числа выводов прибора, последовательный интерфейс SGMII (serial GMII), как показано на рис."/>
          <command value="\ref">
            <braces>
              <braces>
                <text value="{}"/>
                <text value="f4e"/>
              </braces>
            </braces>
            <braces/>
            <braces>
              <text value="."/>
            </braces>
          </command>
          <figure id="id20" value="Token(TokenType.COMMAND&amp;quot;, &amp;quot;\begin{figure*}&#10;\vspace*{1pt}&#10;\begin{center}&#10;\mbox{%&#10;\epsfxsize=141.78mm&#10;\epsfbox{ego-5.eps}&#10;}&#10;\end}&#10;\vspace*{-9pt}&#10;\Caption{Структура ИКМ-М&#10;\label{f5e}}&#10;\end{figure*}&amp;quot;, line=639, col=16)">
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <text value="ускорит доставку пакетов между узлами &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети и облегчит реализацию сопутствующих требований QoS. В предположении, что контроллеры DMA умеют работать в свойственном классическим ИКМ активном режиме, используя механизм цепочек описателей буферов"/>
            <command value="\cite">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="8e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value=", модули Ethernet и SRIO могут включать небольшого объема двупортовые памяти DPM (dual-port memories) для циркулярных цепочек такого рода описателей. Специфическим именно для ИКМ-Б блоком должен быть контроллер внешней памяти большого объема, например DDR3, необходимой для буферирования блоков данных при реализации узла гомогенного коммутатора или хранения маршрутной и служебной информации при реализации коммутирующего процессора гетерогенного коммутатора. Для ускорения адресной фильтрации и классификации входящих кадров в ИКМ-Б может быть предусмотрен блок быстрого доступа к адресным таблицам LUT (look-up table) и/или другие блоки, выполняющие функции, аналогичные функциям сопроцессоров табличного и контекстного поиска в классических ИКМ (см."/>
              </braces>
            </command>
            <text value="рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f1e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value="). Блок LUT может также включать небольшую, размером в несколько элементов, ассоциативную память CAM (context addressable memory) для хранения текущих MAC-адре"/>
              </braces>
            </command>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <text value="интерфейс для подключения внешней табличной памяти."/>
            <command value="\begin"/>
            <command value="\small"/>
            <center/>
            <command value="\end">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="table*"/>
                </braces>
              </braces>
              <braces/>
            </command>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <text value="SRIO или другого. Все ИКМ коммутатора совокупно выполняют маршрутизацию, поддерживая соответствующие маршрутизирующие протоколы на своих коммуникационных портах и обмениваясь между собой маршрутной информацией в форме сообщений. На рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f5e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value="показана структура ИКМ меньшей производительности на 500"/>
              </braces>
            </command>
            <formula id="id21" value="$\ldots$"/>
            <text value="1000 DMIPS (далее ИКМ-М), которые могут использоваться в узлах продвижения пакетов, т."/>
            <text value="е."/>
            <text value="в качестве ИКМ/DP на рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f3e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value=", и, возможно, некоторых узлах менеджмента гетерогенных коммутаторов, т."/>
              </braces>
            </command>
            <text value="е."/>
            <text value="в качестве ИКМ/CP на рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f3e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value=". В ИКМ-М может быть задействовано более простое процессорное ядро, чем в ИКМ-Б, например ядро Cortex-R4"/>
              </braces>
            </command>
            <command value="\cite">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="17e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value="с производительностью порядка 750 DMIPS. Сравнительные характеристики обоих ядер ARM, Cortex-A8 и Cortex-R4, приведены в табл."/>
              </braces>
            </command>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="t2e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value=". Еще одно отличие ИКМ-М от ИКМ-Б может заключаться в отказе от использования внешней памяти и, соответственно, исключении аппаратуры ее интерфейсов. Разумеется, такой шаг предполагает наличие в ИКМ-М достаточных ресурсов внутрикристальной памяти. Это могут быть памяти программ (ROM или Flash объемом до 512 Kбайт) и данных (SRAM до 64 Kбайт). Память данных может дополняться блоками DPM модулей Ethernet и SRIO, а также блоком LUT с небольшого объема памятью CAM для текущих MAC-адресов. Необходимо отметить, что исключение из ИКМ интерфейсов внешних памятей резко сокращает число выводов корпуса ИКМ-М и, следовательно, в значительной степени стоимость прибора. В структуре, показанной на рис."/>
              </braces>
            </command>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f5e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value=", ИКМ-М требуется всего полтора десятка (!)"/>
              </braces>
            </command>
            <text value="сигнальных выводов. Для сравнения современные ИКМ компании"/>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="Freescale"/>
            </command>
            <text value="выпускаются в корпусах с числом выводов, переваливающим за тысячу. Если организация гомогенного коммутатора и использование в ней ИКМ были тривиальны, то работа гетерогенного коммутатора требует пояснений. Дезинтегрированная архитектура пакетной коммутации"/>
            <command value="\cite">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="9e"/>
                </braces>
              </braces>
              <braces/>
            </command>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <text value="в его внутренней памяти данных), а &amp;lt;&amp;lt;обезглавленное&amp;gt;&amp;gt; тело кадра сохраняется в общей буферной памяти коммутатора. В тех случаях, когда адрес назначения в оторванном заголовке принятого кадра имеется во внутренней CAM, ИКМ-М входного узла способен сам принять решение по классификации и продвижению этого кадра. После принятия решения о продвижении ИКМ-М отправляет в соответствующий выходной узел"/>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="сообщение продвижения"/>
            </command>
            <text value="с модифицированным заголовком скоммутированного кадра и ссылкой на буфер в общей памяти, где сохранено тело этого кадра. В остальных случаях ИКМ-М входного узла отправляет"/>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="сообщение коммутации"/>
            </command>
            <text value=", включающее оторванный заголовок и ссылку на тело соотнесенного кадра, коммутирующему процессору. Коммутирующий процессор, в типичном случае ИКМ-Б, после определения порта назначения высылает в соответствующий выходной узел"/>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="сообщение продвижения"/>
            </command>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="сообщение обновления"/>
            </command>
            <text value=", которое позволит ИКМ-М входного узла обновить содержимое своей CAM и в дальнейшем коммутировать кадры с теми же MAC-адресами самостоятельно. ИКМ-М выходного узла, получив"/>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="сообщение продвижения"/>
            </command>
            <text value=", ставит полученный заголовок со ссылкой на соотнесенное тело в одну из очередей на отправку в соответствии с требованиями QoS. Когда очередь доходит до этого заголовка, ИКМ-М склеивает его с телом кадра из буферной памяти и включает ссылку на готовый кадр в выходную цепочку описателей буферов блока Ethernet. После отправки кадра (или в зависимости от протокола после подтверждения его получения адресатом) ИКМ выходного узла отправляет"/>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="сообщение освобождения"/>
            </command>
            <text value="буфера в общей буферной памяти входному узлу, после чего процесс коммутации завершается. Если гетерогенный коммутатор включает отдельный узел или даже несколько узлов общего управления и менеджмента, то в таких узлах могут использоваться в зависимости от сложности решаемых задач как ИКМ-М, так и ИКМ-Б. Таким образом, и децентрализованная коммутация в гомогенном коммутаторе, и централизованная коммутация в гетерогенном коммутаторе предполагают на интерфейсе &amp;lt;&amp;lt;сверхлокальной&amp;gt;&amp;gt; сети:"/>
            <itemize/>
            <command value="\specialsymbol">
              <braces>
                <text value="~---"/>
              </braces>
            </command>
            <text value="до 4096 байт. Суммарная производительность гетерогенного коммутатора определяется двумя узкими местами: быстродействием общей буферной памяти и пропускной способностью звена интерфейса между контроллером буферной памяти с коммутационной структурой. Современная синхронная память способна пропустить через себя десятки гигабайт информации в секунду. Например, 64-разрядная память QDR SRAM (4 прибора IDT71P74604), работающая на"/>
            <text value="частоте 250 МГц, пропускает через себя дуплексный поток 32 Гбит/с и, следовательно, может обслужить до 32 дуплексных гигабитных портов"/>
            <text value="Ethernet. Однако максимальная пропускная способность звена SRIO"/>
            <formula id="id22" value="$4\times$"/>
            <text value="составляет всего 10 Гбит/с, что ограничивает число гигабитных портов гетерогенного коммутатора десятью. Увеличивать пропускную способность интерфейса буферной памяти можно, добавляя звенья интерфейса SRIO, как показано пунктиром на рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f3e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value=". Однако такое решение предполагает динамическую маршрутизацию коммутатором SRIO потоков между параллельными звеньями, что нетипично для существующих коммутаторов SRIO. Другое решение заключается в замене для передачи тел блоков данных интерфейса SRIO интерфейсом PCIe, который обладает гораздо большей пропускной способностью: на звене"/>
              </braces>
            </command>
            <formula id="id23" value="$\times 16$"/>
            <text value="она достигает 64 Гбит/с, что позволяет обслуживать до 64 гигабитных портов. Но PCIe не поддерживает необходимый в децентрализованном пакетном коммутаторе обмен сообщениями, поэтому такое решение заставляет вводить в ИКМ-М в дополнение к модулю SRIO еще и блок PCIe, что выглядит неоправданно избыточным. Проблема может быть автоматически решена в будущем новыми версиями спецификации интерфейса SRIO, в которых пропускная способность звена будет существенно повышена до конкурентных с PCIe величин, либо переходом на архитектуру ASI. Но возможно и другое решение"/>
            <command value="\textit">
              <braces>
                <text value="\textit{}"/>
              </braces>
              <text value="ad hoc"/>
            </command>
            <text value="разработкой в виде отдельной микросхемы контроллера общей буферной памяти гетерогенного коммутатора, совмещенного с объединяющим ИКМ коммутатором SRIO, т."/>
            <text value="е."/>
            <text value="коммутаторного ядра на рис."/>
            <command value="\ref">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="f3e"/>
                </braces>
              </braces>
              <braces/>
              <braces>
                <text value="."/>
              </braces>
            </command>
          </figure>
        </figure>
      </section>
      <section id="id24">
        <braces>
          <text value="\section{}"/>
        </braces>
        <text value="Заключение"/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="общепризнанный строительный материал для средств телекоммуникации и пакетной коммутации, который особенно удобен для типового &amp;lt;&amp;lt;крупноблочного&amp;gt;&amp;gt; строительства. Устройства на основе ИКМ могут быть широко востребованы в самых разных приложениях. Но вряд ли устройства, реализованные на ИКМ, достигнут рекордных показателей в своем классе. Характеристики таких устройств, скорее всего, окажутся на приличном среднем уровне, который достаточен для большинства типичных применений. Зато разработка на базе ИКМ может быть завершена быстро и с минимальными затратами. Хотя приборы ведущего поставщика ИКМ компании"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale"/>
        </command>
        <text value="становятся все более популярными и в России, сдерживающим фактором их активного использования в отечественных разработках останется цена, которая в зависимости от сложности микросхемы колеблется от десятков до сотен долларов США. Кроме того, есть области, связанные с телекоммуникацией и пакетной коммутацией, в которых применение импортных комплектующих,"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="в том числе ИКМ, нежелательно или невозможно по различным причинам, в том числе нетехнического характера. В этих областях были бы активно востребованы приборы отечественного производства."/>
        <text value="Однако разработка в России современных"/>
        <command value="\linebreak">
          <braces>
            <text value="\linebreak"/>
          </braces>
        </command>
        <text value="ИКМ, эквивалентных по своим возможностям лучшим образцам от компании"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale"/>
        </command>
        <text value=", сегодня совершенно нереальна. Настоящая статья указывает один из путей решения проблемы разработкой ограниченной номенклатуры отечественных ИКМ, существенно более простых, чем приборы компании"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale"/>
        </command>
        <text value=", но позволяющих, тем не менее,"/>
        <text value="решать серьезные задачи на современном техническом уровне как минимум в области пакетной коммутации. Таким решением могли бы стать два ИКМ, меньшей и большей производительности, с программируемыми процессорными ядрами семейства Cortex, лицензионно поставляемых компанией"/>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="ARM"/>
        </command>
        <text value=", и оснащенных по минимуму всего-навсего двумя специализированными коммуникационными модулями: трехскоростным Ethernet и интерфейсом (типа) SRIO. С использованием этих двух вариантов ИКМ можно было бы строить высокопроизводительные &amp;lt;&amp;lt;распределенные&amp;gt;&amp;gt; маршрутизирующие коммутаторы с гомогенной и гетерогенной"/>
        <text value="организацией. Такие коммутаторы, способные предоставить пользователю до нескольких десятков гигабитных портов Ethernet, могли бы, помимо коммутации на уровнях 2"/>
        <formula id="id25" value="$\ldots$"/>
        <text value="4, также выполнять"/>
        <text value="функции граничных маршрутизаторов в"/>
        <command value="\mbox">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="сетях"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <text value="Metro Ethernet и MPLS, обеспечивать сетевую защиту и эффективно решать целый ряд других смежных задач по мере развития собственного прикладного программного обеспечения. Можно ожидать, что предлагаемые упрощенные ИКМ при нормально организованном крупносерийном производстве могли бы оказаться существенно дешевле более сложных ИКМ компании"/>
          </braces>
        </command>
        <command value="\textit">
          <braces>
            <text value="\textit{}"/>
          </braces>
          <text value="Freescale"/>
        </command>
        <text value="и вполне конкурентоспособны во многих приложениях, причем не только на внутреннем, но и на мировом рынке."/>
        <braces>
          <text value="{}"/>
          <command value="\small"/>
          <command value="\frenchspacing">
            <braces>
              <braces>
                <text value="{}"/>
              </braces>
            </braces>
          </command>
        </braces>
        <command value="\addcontentsline">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="toc"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="section"/>
            </braces>
          </braces>
          <braces/>
          <braces>
            <braces>
              <text value="{}"/>
              <text value="Литература"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <command value="\begin">
          <braces>
            <braces>
              <text value="{}"/>
              <text value="99"/>
            </braces>
          </braces>
          <braces/>
        </command>
        <item id="id26" value="\bibitem">
          <braces>
            <text value="\bibitem{4e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Егоров В."/>
        <text value="Б."/>
        <text value="Новое поколение коммуникационных микроконтроллеров компании Freescale Semiconductor // Chip News, 2007. No."/>
        <text value="3. С. 14--18."/>
        <item id="id27" value="\bibitem">
          <braces>
            <text value="\bibitem{5e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Егоров В."/>
        <text value="Б."/>
        <text value="Интегрированные коммуникационные процессоры компании Freescale Semiconductor // Электронные компоненты, 2007. №"/>
        <text value="8. С. 85--89."/>
        <item id="id28" value="\bibitem">
          <braces>
            <text value="\bibitem{10e}"/>
          </braces>
        </item>
        <text value="PowerQUICC Communications Processors // Сайт компании Freescale Semiconductor:"/>
        <braces>
          <text value="{}"/>
          <command value="\sf">
            <braces>
              <text value="http://www.freescale. com/webapp/sps/site/homepage.jsp?nodeId= 0162468rH3bTdGJk19"/>
            </braces>
            <braces/>
            <braces>
              <text value="."/>
            </braces>
          </command>
        </braces>
        <item id="id29" value="\bibitem">
          <braces>
            <text value="\bibitem{8e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Егоров В."/>
        <text value="Б."/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="М.: ИПИ РАН, 2008. 129 с."/>
        <item id="id30" value="\bibitem">
          <braces>
            <text value="\bibitem{3e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Соколов И."/>
        <text value="А., Гребенщиков В."/>
        <text value="И., Егоров В."/>
        <text value="Б. и др."/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="М.: Наука, 2006. С. 449--462."/>
        <item id="id31" value="\bibitem">
          <braces>
            <text value="\bibitem{6e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Егоров В."/>
        <text value="Б."/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="М.: МИРЭА, 2007. С. 148--151."/>
        <item id="id32" value="\bibitem">
          <braces>
            <text value="\bibitem{1e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Егоров В."/>
        <text value="Б."/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="М.: Наука, 1999. С. 44--55."/>
        <item id="id33" value="\bibitem">
          <braces>
            <text value="\bibitem{2e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Соколов И."/>
        <text value="А., Егоров В."/>
        <text value="Б."/>
        <text value="Дезинтеграционный подход к архитектуре универсального процессора коммутации пакетов // Информационные технологии и вычислительные системы, 2005. №"/>
        <text value="2. С. 76--85."/>
        <item id="id34" value="\bibitem">
          <braces>
            <text value="\bibitem{11e}"/>
          </braces>
        </item>
        <text value="MPC8568E PowerQUICC III Processor // Сайт компании Freescale Semiconductor:"/>
        <braces>
          <text value="{}"/>
          <command value="\sf">
            <braces>
              <text value="http://www.freescale. com/webapp/sps/site/prod"/>
            </braces>
          </command>
          <command value="\_summary">
            <braces>
              <text value=".jsp?code= MPC8568E"/>
            </braces>
          </command>
        </braces>
        <text value="nodeId=0162468rH3bTdGJk196465"/>
        <text value="."/>
        <item id="id35" value="\bibitem">
          <braces>
            <text value="\bibitem{7e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Егоров В."/>
        <text value="Б."/>
        <command value="\specialsymbol">
          <braces>
            <text value="~---"/>
          </braces>
        </command>
        <text value="М.: ИПИ РАН, 2007. С. 26--34."/>
        <item id="id36" value="\bibitem">
          <braces>
            <text value="\bibitem{9e}"/>
          </braces>
        </item>
        <author value="\Au{}"/>
        <text value="Соколов И."/>
        <text value="А., Егоров В."/>
        <text value="Б."/>
        <text value="Дезинтегрированная архитектура пакетной коммутации // Информатика и её применения, 2008. Т. 2. Вып. 4. С. 2--11."/>
        <item id="id37" value="\bibitem">
          <braces>
            <text value="\bibitem{12e}"/>
          </braces>
          <text value="MPC8548E PowerQUICC III Processors // Сайт компании Freescale Semiconductor:"/>
          <braces>
            <text value="{}"/>
            <command value="\sf">
              <braces>
                <text value="http://www. freescale.com/webapp/sps/site/prod"/>
              </braces>
            </command>
            <command value="\_summary">
              <braces>
                <text value=".jsp?code =MPC8548E"/>
              </braces>
            </command>
          </braces>
        </item>
        <text value="nodeId=0162468rH3bTdGJk196465"/>
        <text value="."/>
        <item id="id38" value="\bibitem">
          <braces>
            <text value="\bibitem{13e}"/>
          </braces>
          <text value="RapidIO Specifications // RapidIO WEB site:"/>
          <braces>
            <text value="{}"/>
            <command value="\sf">
              <braces>
                <text value="http:// www.rapidio.org/specs/current"/>
              </braces>
              <braces/>
              <braces>
                <text value="."/>
              </braces>
            </command>
          </braces>
        </item>
        <item id="id39" value="\bibitem">
          <braces>
            <text value="\bibitem{14e}"/>
          </braces>
          <text value="Serial RapidIO Preprocessing Switches // Сайт компании IDT:"/>
          <braces>
            <text value="{}"/>
            <command value="\sf">
              <braces>
                <text value="http://www.idt.com/?catID=18388262"/>
              </braces>
              <braces/>
              <braces>
                <text value="."/>
              </braces>
            </command>
          </braces>
        </item>
        <item id="id40" value="\bibitem">
          <braces>
            <text value="\bibitem{15e}"/>
          </braces>
          <text value="RapidIO Switches // Сайт компании Tundra:"/>
          <braces>
            <text value="{}"/>
            <command value="\sf">
              <braces>
                <text value="http:// www.tundra.com/products/rapidio-switches"/>
              </braces>
              <braces/>
              <braces>
                <text value="."/>
              </braces>
            </command>
          </braces>
        </item>
        <item id="id41" value="\bibitem">
          <braces>
            <text value="\bibitem{16e}"/>
          </braces>
          <text value="Application Processors // Сайт компании ARM:"/>
          <braces>
            <text value="{}"/>
            <command value="\sf">
              <braces>
                <text value="http:// www.arm.com/products/CPUs/application.html"/>
              </braces>
              <braces/>
              <braces>
                <text value="."/>
              </braces>
            </command>
            <command value="\label">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="end"/>
                  <command value="\stat">
                    <braces/>
                  </command>
                </braces>
              </braces>
            </command>
          </braces>
        </item>
        <item id="id42" value="\bibitem">
          <braces>
            <text value="\bibitem{17e}"/>
          </braces>
          <text value="Embedded Processors // Сайт компании ARM:"/>
          <braces>
            <text value="{}"/>
            <command value="\sf">
              <braces>
                <text value="http:// www.arm.com/products/CPUs/embedded.html"/>
              </braces>
              <braces/>
              <braces>
                <text value="."/>
              </braces>
            </command>
            <command value="\end">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="thebibliography"/>
                </braces>
              </braces>
              <braces/>
              <braces/>
              <braces/>
            </command>
            <command value="\end">
              <braces>
                <braces>
                  <text value="{}"/>
                  <text value="multicols"/>
                </braces>
              </braces>
              <braces/>
            </command>
          </braces>
        </item>
      </section>
    </fulltext>
  </paper>
</papers>